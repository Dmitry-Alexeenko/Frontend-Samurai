(this["webpackJsonpreact-first-project"]=this["webpackJsonpreact-first-project"]||[]).push([[3],{301:function(e,t,a){},302:function(e,t,a){e.exports={ProfileInfo:"ProfileInfo_ProfileInfo__2gCZd",ProfileInfo__UserAbout:"ProfileInfo_ProfileInfo__UserAbout__KMu1I",ProfileInfo__UserName:"ProfileInfo_ProfileInfo__UserName__2v6nf",ProfileInfo__avatar:"ProfileInfo_ProfileInfo__avatar__1wIkz",ProfileInfo__loadPhoto:"ProfileInfo_ProfileInfo__loadPhoto__3y9oD",ProfileInfo__UserData:"ProfileInfo_ProfileInfo__UserData__1YUd7",UserData__item:"ProfileInfo_UserData__item__2lXBm"}},303:function(e,t,a){e.exports={status__text:"ProfileStatus_status__text__2IHrY"}},304:function(e,t,a){e.exports={myPosts:"MyPosts_myPosts__3cs7I"}},305:function(e,t,a){e.exports={PostItem:"Post_PostItem__1aZpr",PostItem__data:"Post_PostItem__data__2Ah3_",PostItem__text:"Post_PostItem__text__3beIn",PostItem__like:"Post_PostItem__like__J4JM-",PostItem__likeContainer:"Post_PostItem__likeContainer__1NSQr"}},306:function(e,t,a){e.exports={formControl:"AddPostForm_formControl__3sMpH",formControl__text:"AddPostForm_formControl__text__24afE",formControl__btn:"AddPostForm_formControl__btn__1RYsh"}},308:function(e,t,a){"use strict";a.r(t);var o=a(34),n=a(35),r=a(37),s=a(36),l=a(38),i=a(0),c=a.n(i),m=(a(301),a(102)),u=a(302),f=a.n(u),_=a(46),p=a(303),d=a.n(p),P=function(e){var t=e.status,a=e.UpdateUserStatus,o=Object(i.useState)(!1),n=Object(m.a)(o,2),r=n[0],s=n[1],l=Object(i.useState)(t),u=Object(m.a)(l,2),f=u[0],_=u[1];Object(i.useEffect)((function(){_(t)}),[t]);return c.a.createElement("div",{className:d.a.status},!r&&c.a.createElement("div",null,c.a.createElement("span",{className:d.a.status__text,onDoubleClick:function(){s(!0)}}," ",t||"type text"," ")),r&&c.a.createElement("div",null,c.a.createElement("input",{autoFocus:!0,onBlur:function(){s(!1),a(f)},onChange:function(e){_(e.currentTarget.value)},value:f})))},E=a(33),h=a.n(E),v=a(135),I=a(136),b=Object(I.a)({form:"ProfileDataForm"})((function(e){var t=e.profile,a=e.error;return c.a.createElement("form",{onSubmit:e.handleSubmit},c.a.createElement("div",null,c.a.createElement("span",null,"Full name:"),c.a.createElement(v.a,{component:"input",type:"text",name:"fullName",placeholder:"full name"})),c.a.createElement("div",null,c.a.createElement("span",null,"About:"),c.a.createElement(v.a,{component:"textarea",name:"aboutMe",placeholder:"about me"})),c.a.createElement("div",null,c.a.createElement("span",null,"Looking for a job:"),c.a.createElement(v.a,{component:"input",type:"checkbox",name:"lookingForAJob"})),c.a.createElement("div",null,c.a.createElement("span",null,"Description:"),c.a.createElement(v.a,{component:"textarea",name:"lookingForAJobDescription"})),Object.keys(t.contacts).map((function(e){return c.a.createElement("div",{key:e},c.a.createElement("span",null,e),c.a.createElement(v.a,{component:"input",type:"text",name:"contacts."+e}))})),c.a.createElement("button",null,"save"),a&&c.a.createElement("span",{style:{color:"red"}},a))})),U=function(e){var t=e.profile,a=t.aboutMe,o=t.lookingForAJob,n=t.lookingForAJobDescription,r=t.contacts,s=e.setEditMode,l=e.isOwner,i=Object.keys(r).map((function(e){if(r[e])return c.a.createElement(N,{key:e,contactTitle:e,contactValue:r[e]})}));return c.a.createElement("div",null,l&&c.a.createElement("div",null,c.a.createElement("button",{onClick:function(){s(!0)}},"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c")),c.a.createElement("div",{className:f.a.ProfileInfo__UserData},c.a.createElement("span",{className:f.a.UserData__item},"\u041e\u0431\u043e \u043c\u043d\u0435:"),a||"no data"),c.a.createElement("div",{className:f.a.ProfileInfo__UserData},c.a.createElement("span",{className:f.a.UserData__item},"\u0418\u0449\u0443 \u0440\u0430\u0431\u043e\u0442\u0443:"),o?"\u0414\u0430":"\u041d\u0435\u0442"),c.a.createElement("div",{className:f.a.ProfileInfo__UserData},c.a.createElement("span",{className:f.a.UserData__item},"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435:"),n||"\u041d\u0435\u0442 \u0434\u0430\u043d\u043d\u044b\u0445"),i.length>0&&c.a.createElement("div",{className:f.a.ProfileInfo__UserData},c.a.createElement("span",{className:f.a.UserData__item},"\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u044b:"),i))},N=function(e){var t=e.contactTitle,a=e.contactValue;return c.a.createElement("div",null,c.a.createElement("span",null,t)," : ",c.a.createElement("span",null,a||"\u041d\u0435\u0442 \u0434\u0430\u043d\u043d\u044b\u0445"))},k=function(e){var t=Object(i.useState)(!1),a=Object(m.a)(t,2),o=a[0],n=a[1];if(!e.profile)return c.a.createElement(_.a,null);var r=e.isOwner,s=e.profile,l=e.status,u=e.profile.photos.large,p=e.savePhoto,d=e.UpdateUserStatus,E=e.updateProfile;return c.a.createElement("div",{className:f.a.ProfileInfo},c.a.createElement("div",{className:f.a.ProfileInfo__avatar},c.a.createElement("img",{src:u||h.a,alt:"userPhoto"}),r&&c.a.createElement("div",null,c.a.createElement("input",{type:"file",accept:".jpg, .jpeg, .png",onChange:function(e){e.target.files.length&&p(e.target.files[0])},name:"file",id:"file",className:f.a.ProfileInfo__loadPhoto}),c.a.createElement("label",{htmlFor:"file"},"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u0444\u043e\u0442\u043e"))),c.a.createElement("div",{className:f.a.ProfileInfo__UserAbout},c.a.createElement("div",{className:f.a.ProfileInfo__UserName},s.fullName),c.a.createElement("div",{className:f.a.ProfileInfo__UserData},c.a.createElement(P,{status:l,UpdateUserStatus:d})),!o&&c.a.createElement(U,{profile:s,UpdateUserStatus:d,setEditMode:n,isOwner:r}),o&&c.a.createElement(b,{initialValues:s,profile:s,setEditMode:n,onSubmit:function(e){E(e).then((function(){n(!1)}))}})))},g=a(103),O=a(304),j=a.n(O),S=a(305),y=a.n(S),x=function(e){return c.a.createElement("div",{className:y.a.PostItem},c.a.createElement("img",{src:h.a}),c.a.createElement("div",{className:y.a.PostItem__data},c.a.createElement("div",{className:y.a.PostItem__text},e.message),c.a.createElement("div",{className:y.a.PostItem__likeContainer},"like",c.a.createElement("span",{className:y.a.PostItem__like},e.like))))},C=(a(56),a(55)),D=a(306),A=a.n(D),F=Object(I.a)({form:"profileAddNewPostForm"})((function(e){return c.a.createElement("form",{className:A.a.formControl,onSubmit:e.handleSubmit},c.a.createElement(v.a,{className:A.a.formControl__text,component:C.b,name:"newPostText",placeholder:"Enter your post"}),c.a.createElement("button",{className:A.a.formControl__btn},"Add post"))})),w=c.a.memo((function(e){var t=e.posts.map((function(e){return c.a.createElement(x,{message:e.message,key:e.id,like:e.likesCount})}));return c.a.createElement("div",null,c.a.createElement(F,{onSubmit:function(t){e.addPostCreator(t)}}),c.a.createElement("div",{className:j.a.myPosts},t.reverse()))})),M=a(9),J=Object(M.b)((function(e){return{posts:e.profilePage.posts}}),{addPostCreator:g.f})(w),T=function(e){var t=e.profile,a=e.status,o=e.isOwner,n=e.UpdateUserStatus,r=e.savePhoto,s=e.updateProfile;return c.a.createElement("div",null,c.a.createElement(k,{profile:t,status:a,UpdateUserStatus:n,isOwner:o,savePhoto:r,updateProfile:s}),c.a.createElement(J,null))},z=a(30),V=a(134),Y=a(10),B=function(e){function t(){return Object(o.a)(this,t),Object(r.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(n.a)(t,[{key:"refreshProfile",value:function(){var e=this.props.match.params.userId;e||(e=this.props.authorizedUserId),this.props.UserProfile(e),this.props.UserStatus(e)}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(e,t,a){this.props.match.params.userId!==e.match.params.userId&&this.refreshProfile()}},{key:"render",value:function(){return c.a.createElement(T,Object.assign({},this.props,{profile:this.props.profile,status:this.props.status,UpdateUserStatus:this.props.UpdateUserStatus,isOwner:!this.props.match.params.userId,savePhoto:this.props.SavePhoto,updateProfile:this.props.UpdateProfile}))}}]),t}(c.a.Component);t.default=Object(Y.d)(Object(M.b)((function(e){return{profile:e.profilePage.profile,status:e.profilePage.status,authorizedUserId:e.auth.id,isAuth:e.auth.isAuth}}),{UserProfile:g.d,UserStatus:g.e,UpdateUserStatus:g.c,SavePhoto:g.a,UpdateProfile:g.b}),z.g,V.a)(B)}}]);
//# sourceMappingURL=3.1d34ec20.chunk.js.map