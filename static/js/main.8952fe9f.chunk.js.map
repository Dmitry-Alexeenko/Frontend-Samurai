{"version":3,"sources":["Redux/initialStates/profileInitState.js","Redux/reducers/profile-reducer.js","api/api.js","hoc/withAuthRedirect.js","styles/DialogItem.module.scss","assets/images/preloader.svg","styles/Preloader.module.scss","assets/images/logo.svg","styles/Navbar.module.scss","styles/Users.module.scss","styles/Login.module.scss","styles/Header.module.scss","styles/FormsControls.module.scss","utils/serviceWorker.js","Redux/initialStates/dialogsInitState.js","Redux/reducers/dialogs-reducer.js","Redux/initialStates/sideBarInitState.js","Redux/reducers/sidebar-reducer.js","utils/object-helpers.js","Redux/initialStates/usersInitState.js","Redux/reducers/users-reducer.js","Redux/initialStates/authInitState.js","Redux/reducers/auth-reducer.js","Redux/initialStates/appInitState.js","Redux/reducers/app-reducer.js","Redux/redux-store.js","components/Navbar/Navbar.jsx","components/Music/Music.jsx","components/Settings/Settings.jsx","components/Dialogs/DialogsForm/DialogsForm.jsx","components/Dialogs/Messages/Messages.jsx","components/Dialogs/DialogItem/DIalogItem.jsx","components/Dialogs/Dialogs.jsx","components/Dialogs/DIalogsContainer.jsx","components/common/Paginator/Paginator.jsx","components/Users/User.jsx","components/Users/Users.jsx","Redux/users-selectors.js","components/Users/UsersContainer.jsx","hoc/withSuspense.js","components/Header/Header.jsx","components/Header/HeaderContainer.jsx","components/Login/Login.jsx","App.js","index.js","assets/images/user.png","Redux/actions.js","components/common/Preloader/Preloader.js","styles/Message.module.scss","styles/Paginator.module.scss","components/common/FormsControls/FormsControls.jsx","utils/validators/validators.js","styles/App.module.scss","styles/Dialogs.module.css","styles/FriendsSiteBar.module.scss","styles/Music.module.scss","styles/Settings.module.scss","styles/DialogsForm.module.scss"],"names":["initialState","posts","id","message","likesCount","profile","status","addPostCreator","formData","type","actions","ADD_POST","addUserStatus","ADD_USER_STATUS","UserProfile","userId","dispatch","a","profileAPI","getUserProfile","response","data","SET_USER_PROFILE","UserStatus","getUserStatus","UpdateUserStatus","updateStatus","resultCode","console","error","SavePhoto","file","savePhoto","photos","SAVE_PHOTO_SUCCESS","UpdateProfile","getState","auth","saveProfile","stopSubmit","_error","messages","Promise","reject","profileReducer","state","action","newPostText","instance","axios","baseURL","withCredentials","headers","userAPI","getUsers","currentPage","pageSize","get","unfollowAtUser","delete","followAtUser","post","put","PhotoFile","FormData","append","headerAPI","getUserLogin","getUserLoginPhoto","then","authorizeOnService","authorizeData","email","login","password","Password","rememberMe","captcha","logout","captchaAPI","getCaptcha","dialogsAPI","startDialogs","getAllDialogs","getListMessages","sendMessage","body","mapStateToPropsForRedirect","isAuth","withAuthRedirect","Component","RedirectComponent","this","props","to","React","connect","module","exports","Boolean","window","location","hostname","match","users","name","listAllDialogs","totalCountMessages","addMessage","ADD_MESSAGE","startDialog","listDialogs","ADD_ALL_DIALOGS","dialogsReducer","GET_LIST_MESSAGES","listMessages","items","totalCount","user","sidebarReducer","updateObjectInArray","itemId","objPropName","newObjProps","map","u","totalUsersCount","isFetching","followingInProgress","portionSize","follow","SUBSCRIBE","unFollow","UNSUBSCRIBE","toggleIsFetching","TOGGLE_IS_FETCHING","setToggleFollowingProgress","TOGGLE_IS_FOLLOWING_PROGRESS","isSubscribed","apiMethod","actionCreator","usersReducer","followed","SET_USERS","SET_CURRENT_PAGE","pageNumber","SET_TOTAL_USERS_COUNT","filter","setAuthUserData","SET_USER_DATA","setCaptchaData","GET_CAPTCHA","setAuthUser","photo","small","SET_USER_PHOTO","authReducer","AUTHORIZE_ON_SERVICE","initialized","appReducer","SET_INITIALIZED_SUCCESS","reducers","combineReducers","profilePage","dialogsPage","sideBar","usersPage","form","formReducer","app","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunkMiddleware","__store__","Navbar","className","c","navBar","navBar__item","activeClassName","active","Music","musicPage","musicPage__warning","href","target","Settings","settingsPage","settingsPage__warning","reduxForm","onSubmit","handleSubmit","Field","dialogForm","component","Textarea","placeholder","dialogFormBtn","Messages","useSelector","myId","useDispatch","useEffect","messageList","item","index","key","senderId","styles","message_right","message_left","message__item","addedAt","viewed","textTupe","DialogsForm","content","newMessageBody","DialogItem","dialog","src","userPhoto","alt","onClick","Dialogs","Preloader","length","dialogs","dialogsItems","userName","DialogsContainer","memo","Paginator","pagesCount","Math","ceil","totalItemsCount","pages","i","push","portionCount","useState","portionNumber","setPortionNumber","leftPortionPageNumber","rightPortionPageNumber","paginator","paginator__btn","p","paginator__page","paginator__selectPage","onPageChanget","User","unsubscribe","subscribe","userItem","userItem__info","userItem__statusName","userItem__name","userItem__status","userItem__btn","disabled","some","Users","onPageChanged","usersSelectors","UsersContainer","setCurrentPage","usersPreloader","bind","WithSuspense","Suspense","fallback","Header","header_container","header__content","header__logoData","header__logo","logo","header__name","header__UserDara","header__select","header__UserPhoto","header__btn","HeaderContainer","LoginReduxForm","loginForm__input","LoginInput","validate","requireField","loginForm__error","loginForm__btn","url","loginPage","loginPage__item","loginPage__title","loginPage__text","loginPage__data","News","lazy","ProfileContainer","App","catchAllErrors","promiseRejectionEvent","log","initializeApp","addEventListener","removeEventListener","page_Main","exact","path","render","app_preloader","AppContainer","withRouter","promise","all","SocialNetworkApp","ReactDOM","document","getElementById","navigator","serviceWorker","ready","registration","unregister","preloader","input","meta","touched","value"],"mappings":"qMAAWA,EAAe,CACtBC,MAAO,CACH,CAACC,GAAI,EAAGC,QAAS,cAAeC,WAAY,GAC5C,CAACF,GAAI,EAAGC,QAAS,oBAAqBC,WAAY,IAClD,CAACF,GAAI,EAAGC,QAAS,oBAAqBC,WAAY,GAClD,CAACF,GAAI,EAAGC,QAAS,mBAAoBC,WAAY,MAErDC,QAAS,KACTC,OAAQ,I,qwBCHZ,IAqBaC,EAAiB,SAACC,GAAD,MAAe,CAACC,KAAMC,IAAQC,SAAUH,SAAUA,IAEnEI,EAAgB,SAACN,GAAD,MAAa,CAACG,KAAMC,IAAQG,gBAAiBP,OAAQA,IAGrEQ,EAAc,SAACC,GACxB,8CAAO,WAAOC,GAAP,eAAAC,EAAA,sEACkBC,IAAWC,eAAeJ,GAD5C,OACCK,EADD,OAEHJ,GAPuBX,EAOCe,EAASC,KAPG,CAACZ,KAAMC,IAAQY,iBAAkBjB,QAASA,KAK3E,iCALmB,IAACA,IAKpB,OAAP,mDAAM,IAMGkB,EAAa,SAACR,GACvB,8CAAO,WAAOC,GAAP,eAAAC,EAAA,sEACkBC,IAAWM,cAAcT,GAD3C,OACCK,EADD,OAEHJ,EAASJ,EAAcQ,EAASC,OAF7B,2CAAP,mDAAM,IAMGI,EAAmB,SAACnB,GAC7B,8CAAO,WAAOU,GAAP,SAAAC,EAAA,+EAEsBC,IAAWQ,aAAapB,GAF9C,OAGkC,IAHlC,OAGce,KAAKM,YACdX,EAASJ,EAAcN,IAJ5B,gDAOCsB,QAAQC,MAAM,mBAPf,yDAAP,mDAAM,IAaGC,EAAY,SAACC,GACtB,8CAAO,WAAOf,GAAP,eAAAC,EAAA,sEACkBC,IAAWc,UAAUD,GADvC,OAE8B,KAD7BX,EADD,QAEUC,KAAKM,YACdX,GAlCqBiB,EAkCKb,EAASC,KAAKA,KAAKY,OAlCZ,CAACxB,KAAMC,IAAQwB,mBAAoBD,YA+BrE,iCA/BqB,IAACA,IA+BtB,OAAP,mDAAM,IAQGE,EAAgB,SAAC3B,GAC1B,8CAAO,WAAOQ,EAAUoB,GAAjB,iBAAAnB,EAAA,6DAEGF,EAASqB,IAAWC,KAAKnC,GAF5B,SAGkBgB,IAAWoB,YAAY9B,GAHzC,UAI8B,KAD7BY,EAHD,QAIUC,KAAKM,WAJf,gBAKCX,EAASF,EAAYC,IALtB,8BAOCC,EAASuB,YAAW,kBAAmB,CAACC,OAAQpB,EAASC,KAAKoB,SAAS,MAPxE,kBAQQC,QAAQC,OAAOvB,EAASC,KAAKoB,SAAS,KAR9C,4CAAP,qDAAM,IAaKG,IA7EQ,WAAmC,IAAlCC,EAAiC,uDAAzB7C,EAAc8C,EAAW,uCACrD,OAAQA,EAAOrC,MACX,KAAKC,IAAQC,SACT,OAAO,EAAP,GACOkC,EADP,CAEI5C,MAAM,GAAD,mBAAM4C,EAAM5C,OAAZ,CAAmB,CAACC,GAAI,EAAGC,QAAS2C,EAAOtC,SAASuC,YAAa3C,WAAY,OAE1F,KAAKM,IAAQY,iBAET,OAAO,EAAP,GAAWuB,EAAX,CAAkBxC,QAASyC,EAAOzC,UACtC,KAAKK,IAAQG,gBACT,OAAO,EAAP,GAAWgC,EAAX,CAAkBvC,OAAQwC,EAAOxC,SAErC,KAAKI,IAAQwB,mBACT,OAAO,EAAP,GAAWW,EAAX,CAAkBxC,QAAQ,EAAD,GAAMwC,EAAMxC,QAAZ,CAAqB4B,OAAQa,EAAOb,WAEjE,QACI,OAAOY,K,gCCtBnB,uLAEMG,EAAWC,SACb,CACIC,QAAS,gDACTC,iBAAiB,EACjBC,QAAS,CACL,UAAW,0CAKVC,EAAU,CACnBC,SADmB,WACuB,IAAjCC,EAAgC,uDAAlB,EAAGC,EAAe,uDAAJ,GACjC,OAAOR,EAASS,IAAT,qBAA2BF,EAA3B,kBAAgDC,KAE3DE,eAJmB,SAIJxD,GACX,OACI8C,EAASW,OAAT,iBAA0BzD,KAGlC0D,aATmB,SASN1D,GACT,OACI8C,EAASa,KAAT,iBAAwB3D,GAAM,MAK7BgB,EAAa,CACtBC,eADsB,SACPJ,GACX,OACIiC,EAASS,IAAI,WAAa1C,IAGlCS,cANsB,SAMRT,GACV,OACIiC,EAASS,IAAI,mBAAqB1C,IAG1CW,aAXsB,SAWTpB,GACT,OACI0C,EAASc,IAAT,kBAAgC,CAACxD,OAAQA,KAEjD0B,UAfsB,SAeZ+B,GACN,IAAMvD,EAAW,IAAIwD,SAErB,OADAxD,EAASyD,OAAO,QAASF,GAErBf,EAASc,IAAT,iBAA+BtD,EAAU,CACrC4C,QAAS,CACL,eAAgB,0BAIhCd,YAzBsB,SAyBVjC,GACR,OACI2C,EAASc,IAAT,WAAyBzD,KAIxB6D,EAAY,CACrBC,aADqB,WAEjB,OACInB,EAASS,IAAT,YAKRW,kBARqB,SAQHlE,GACd,OACI8C,EAASS,IAAI,WAAavD,GAAImE,MAAK,SAAAjD,GAAQ,OAAIA,EAASC,KAAKY,WAGrEqC,mBAbqB,SAaFC,GACf,IAAIC,EAAQD,EAAcE,MACtBC,EAAWH,EAAcI,SACzBC,EAAaL,EAAcK,WAC3BC,EAAUN,EAAcM,QAC5B,OACI7B,EAASa,KAAT,aAA4B,CAACW,MAAOA,EAAOE,SAAUA,EAAUE,WAAYA,EAAYC,QAASA,KAGxGC,OAtBqB,WAuBjB,OACI9B,EAASW,OAAT,gBAKCoB,EAAa,CACtBC,WADsB,WAElB,OACIhC,EAASS,IAAT,8BAKCwB,EAAa,CACtBC,aADsB,SACTnE,GACT,OACIiC,EAASc,IAAT,kBAAwB/C,KAGhCoE,cANsB,WAOlB,OACInC,EAASS,IAAT,YAGR2B,gBAXsB,SAWNrE,GACZ,OACIiC,EAASS,IAAT,kBAAwB1C,EAAxB,eAGRsE,YAhBsB,SAgBVtE,EAAQZ,GAChB,OACI6C,EAASa,KAAT,kBAAyB9C,EAAzB,aAA4C,CAACuE,KAAMnF,O,8IC9G3DoF,EAA6B,SAAC1C,GAC9B,MAAO,CACH2C,OAAQ3C,EAAMR,KAAKmD,SAIbC,EAAmB,SAACC,GAAe,IACvCC,EADsC,iLAGpC,OAAKC,KAAKC,MAAML,OACT,kBAACE,EAAaE,KAAKC,OADK,kBAAC,IAAD,CAAUC,GAAI,eAHT,GACZC,IAAML,WAStC,OAFqCM,YAAQT,EAARS,CAAoCL,K,oBCjB7EM,EAAOC,QAAU,CAAC,OAAS,6B,oBCD3BD,EAAOC,QAAU,IAA0B,uC,oBCC3CD,EAAOC,QAAU,CAAC,UAAY,+B,oBCD9BD,EAAOC,QAAU,IAA0B,kC,+ECC3CD,EAAOC,QAAU,CAAC,OAAS,uBAAuB,aAAe,6BAA6B,OAAS,uBAAuB,qBAAuB,qCAAqC,gBAAkB,kC,mBCA5MD,EAAOC,QAAU,CAAC,UAAY,yBAAyB,SAAW,wBAAwB,qBAAuB,oCAAoC,eAAiB,8BAA8B,eAAiB,8BAA8B,iBAAmB,gCAAgC,cAAgB,6BAA6B,eAAiB,gC,mBCApWD,EAAOC,QAAU,CAAC,iBAAmB,gCAAgC,iBAAmB,gCAAgC,eAAiB,8BAA8B,UAAY,yBAAyB,gBAAkB,+BAA+B,iBAAmB,gCAAgC,gBAAkB,+BAA+B,gBAAkB,iC,mBCAnXD,EAAOC,QAAU,CAAC,iBAAmB,iCAAiC,gBAAkB,gCAAgC,iBAAmB,iCAAiC,iBAAmB,iCAAiC,aAAe,6BAA6B,aAAe,6BAA6B,kBAAoB,kCAAkC,eAAiB,+BAA+B,YAAc,8B,oBCA5aD,EAAOC,QAAU,CAAC,YAAc,mCAAmC,MAAQ,6BAA6B,WAAa,oC,wCCWjGC,QACW,cAA7BC,OAAOC,SAASC,UAEe,UAA7BF,OAAOC,SAASC,UAEhBF,OAAOC,SAASC,SAASC,MACvB,2D,uMClBKvG,EAAe,CACtByC,SAAU,GACV+D,MAAO,CACH,CAACtG,GAAI,EAAGuG,KAAM,SACd,CAACvG,GAAI,EAAGuG,KAAM,QACd,CAACvG,GAAI,EAAGuG,KAAM,SACd,CAACvG,GAAI,EAAGuG,KAAM,SACd,CAACvG,GAAI,EAAGuG,KAAM,QACd,CAACvG,GAAI,EAAGuG,KAAM,SAElBC,eAAgB,KAChBC,mBAAoB,M,ikBCPxB,IAuBaC,EAAa,SAACpG,GAAD,MAAe,CAACC,KAAMC,IAAQmG,YAAarG,SAAUA,IAQlEsG,EAAc,SAAC/F,GACxB,8CAAO,WAAOC,GAAP,SAAAC,EAAA,sEAEkBgE,IAAWC,aAAanE,GAF1C,OAG8B,IAH9B,OAGUM,KAAKM,YACdX,EAASmE,KAJV,2CAAP,mDAAM,IAUGA,EAAgB,WACzB,8CAAO,WAAOnE,GAAP,eAAAC,EAAA,sEACkBgE,IAAWE,gBAD7B,OACC/D,EADD,OAEHJ,GArBsB+F,EAqBC3F,EAASC,KArBO,CAACZ,KAAMC,IAAQsG,gBAAiBD,YAAaA,KAmBjF,iCAnBkB,IAACA,IAmBnB,OAAP,mDAAM,IAuBKE,EAlEQ,WAAmC,IAAlCpE,EAAiC,uDAAzB7C,EAAc8C,EAAW,uCACrD,OAAQA,EAAOrC,MACX,KAAKC,IAAQmG,YACT,OAAO,EAAP,GACOhE,EADP,CAEIJ,SAAS,GAAD,mBAAMI,EAAMJ,UAAZ,MAA0BK,EAAOtC,cAEjD,KAAKE,IAAQsG,gBACT,OAAO,EAAP,GACOnE,EADP,CAEI6D,eAAe,YAAK5D,EAAOiE,eAEnC,KAAKrG,IAAQwG,kBACT,OAAO,EAAP,GACOrE,EADP,CAEIJ,SAAS,YAAKK,EAAOqE,aAAaC,OAClCT,mBAAoB7D,EAAOqE,aAAaE,aAEhD,QACI,OAAOxE,ICvBR7C,EAAe,CACtBsH,KAAM,CACF,CAACpH,GAAI,EAAGuG,KAAM,QACd,CAACvG,GAAI,EAAGuG,KAAM,UACd,CAACvG,GAAI,EAAGuG,KAAM,UCGPc,EALQ,WAAmC,IAAlC1E,EAAiC,uDAAzB7C,EAAyB,iCACrD,OAAO6C,G,8NCHH,IAAM2E,EAAsB,SAACJ,EAAOK,EAAQC,EAAaC,GAC9D,OAAOP,EAAMQ,KAAI,SAAAC,GACZ,OAAIA,EAAEH,KAAiBD,E,yVACZ,IAAII,EAAX,GAAiBF,GAEdE,MCLJ7H,EAAe,CACtBwG,MAAO,GACPhD,SAAU,EACVsE,gBAAiB,EACjBvE,YAAa,EACbwE,YAAY,EACZC,oBAAqB,GACrBC,YAAa,I,yjBCFjB,IAsCaC,EAAS,SAACnH,GAAD,MAAa,CAACN,KAAMC,IAAQyH,UAAWpH,OAAQA,IACxDqH,EAAW,SAACrH,GAAD,MAAa,CAACN,KAAMC,IAAQ2H,YAAatH,OAAQA,IAI5DuH,EAAmB,SAACP,GAAD,MAAiB,CAACtH,KAAMC,IAAQ6H,mBAAoBR,WAAYA,IACnFS,EAA6B,SAACT,EAAYhH,GAAb,MAAyB,CAC/DN,KAAMC,IAAQ+H,6BACdV,WAAYA,EACZhH,OAAQA,IAaN2H,EAAY,uCAAG,WAAO1H,EAAUd,EAAIyI,EAAWC,GAAhC,SAAA3H,EAAA,6DACjBD,EAASwH,GAA2B,EAAMtI,IADzB,SAEIyI,EAAUzI,GAFd,OAGgB,IAHhB,OAGJmB,KAAKM,YACdX,EAAS4H,EAAc1I,IAE3Bc,EAASwH,GAA2B,EAAOtI,IAN1B,2CAAH,4DAsBH2I,EAlFM,WAAmC,IAAlChG,EAAiC,uDAAzB7C,EAAc8C,EAAW,uCACnD,OAAQA,EAAOrC,MACX,KAAKC,IAAQyH,UACT,OAAO,KACAtF,EADP,CAEI2D,MAAOgB,EAAoB3E,EAAM2D,MAAO1D,EAAO/B,OAAQ,KAAM,CAAC+H,UAAU,MAEhF,KAAKpI,IAAQ2H,YACT,OAAO,KACAxF,EADP,CAEI2D,MAAOgB,EAAoB3E,EAAM2D,MAAO1D,EAAO/B,OAAQ,KAAM,CAAC+H,UAAU,MAEhF,KAAKpI,IAAQqI,UACT,OAAO,KAAIlG,EAAX,CAAkB2D,MAAM,YAAK1D,EAAO0D,SAExC,KAAK9F,IAAQsI,iBACT,OAAO,KAAInG,EAAX,CAAkBU,YAAaT,EAAOmG,aAE1C,KAAKvI,IAAQwI,sBACT,OAAO,KAAIrG,EAAX,CAAkBiF,gBAAiBhF,EAAOuE,aAE9C,KAAK3G,IAAQ6H,mBACT,OAAO,KAAI1F,EAAX,CAAkBkF,WAAYjF,EAAOiF,aAEzC,KAAKrH,IAAQ+H,6BACT,OAAO,KACA5F,EADP,CAEImF,oBAAqBlF,EAAOiF,WAAP,sBACXlF,EAAMmF,qBADK,CACgBlF,EAAO/B,SACtC8B,EAAMmF,oBAAoBmB,QAAO,SAAAjJ,GAAE,OAAK4C,EAAO/B,YAG7D,QACI,OAAO8B,I,QCtCR7C,EAAe,CACtBE,GAAI,KACJsE,MAAO,KACPC,MAAO,KACPxC,OAAQ,KACRuD,QAAQ,EACRX,QAAS,M,yjBCDb,IA8BauE,EAAkB,SAAClJ,EAAIuE,EAAOD,EAAOgB,GAAnB,MAA+B,CAAC/E,KAAMC,IAAQ2I,cAAehI,KAAM,CAACnB,KAAIuE,QAAOD,QAAOgB,YACxG8D,EAAiB,SAACzE,GAAD,MAAc,CAACpE,KAAMC,IAAQ6I,YAAa1E,QAASA,IAWpE2E,EAAc,WACvB,8CAAO,WAAOxI,GAAP,qBAAAC,EAAA,sEACkBiD,IAAUC,eAD5B,OAE8B,KAD7B/C,EADD,QAEUC,KAAKM,aACVzB,EAAKkB,EAASC,KAAKA,KAAKnB,GACxBuE,EAAQrD,EAASC,KAAKA,KAAKoD,MAC3BD,EAAQpD,EAASC,KAAKA,KAAKmD,MAC/BxD,EAASoI,EAAgBlJ,EAAIuE,EAAOD,GAAO,IAC3CN,IAAUE,kBAAkBlE,GAAImE,MAAK,SAAApC,GAlBjB,IAACwH,EAmBjBzI,GAnBiByI,EAmBSxH,EAAOyH,MAnBL,CAACjJ,KAAMC,IAAQiJ,eAAgBF,MAAOA,SAWvE,2CAAP,mDAAM,IAwCKG,GAnFK,WAAmC,IAAlC/G,EAAiC,uDAAzB7C,EAAc8C,EAAW,uCAClD,OAAQA,EAAOrC,MACX,KAAKC,IAAQ2I,cACT,OAAO,KACAxG,EADP,GAEOC,EAAOzB,MAElB,KAAKX,IAAQiJ,eACT,OAAO,KACA9G,EADP,CAEIZ,OAAQa,EAAO2G,QAEvB,KAAK/I,IAAQmJ,qBACT,OAAO,KACAhH,EADP,CAEI3C,GAAI4C,EAAO5C,KAGnB,KAAKQ,IAAQ6I,YACT,OAAO,KACA1G,EADP,CAEIgC,QAAS/B,EAAO+B,UAExB,QACI,OAAOhC,I,UC7BR7C,GAAe,CACtB8J,aAAa,G,6jBCGjB,IAqBeC,GArBI,WAAmC,IAAlClH,EAAiC,uDAAzB7C,GAAc8C,EAAW,uCACjD,OAAQA,EAAOrC,MACX,KAAKC,IAAQsJ,wBACT,OAAO,MACAnH,EADP,CAEIiH,aAAa,IAErB,QACI,OAAOjH,ICFfoH,GAAWC,YAAgB,CAC3BC,YAAavH,IACbwH,YAAanD,EACboD,QAAS9C,EACT+C,UAAWzB,EACXxG,KAAMuH,GACNW,KAAMC,IACNC,IAAIV,KAGFW,GAAmBtE,OAAOuE,sCAAwCC,IAClEC,GAAQC,YAAYb,GAAUS,GAAiBK,YAAgBC,QAKrE5E,OAAO6E,UAAYJ,GACJA,U,gDCWAK,GAjCA,SAACrF,GAEZ,OACI,yBAAKsF,UAAWC,KAAEC,QACd,yBAAKF,UAAWC,KAAEE,cACd,kBAAC,IAAD,CAASxF,GAAG,WACHyF,gBAAiBH,KAAEI,QAD5B,WADJ,KAIA,yBAAKL,UAAWC,KAAEE,cACd,kBAAC,IAAD,CAASxF,GAAG,WAAWyF,gBAAiBH,KAAEI,QAA1C,YAEJ,yBAAKL,UAAWC,KAAEE,cACd,kBAAC,IAAD,CAASxF,GAAG,SAASyF,gBAAiBH,KAAEI,QAAxC,UAEJ,yBAAKL,UAAWC,KAAEE,cACd,kBAAC,IAAD,CAASxF,GAAG,QAAQyF,gBAAiBH,KAAEI,QAAvC,SAEJ,yBAAKL,UAAWC,KAAEE,cACd,kBAAC,IAAD,CAASxF,GAAG,SAASyF,gBAAiBH,KAAEI,QAAxC,UAEJ,yBAAKL,UAAWC,KAAEE,cACd,kBAAC,IAAD,CAASxF,GAAG,YAAYyF,gBAAiBH,KAAEI,QAA3C,e,oBCbDC,GAVD,WACV,OACI,yBAAKN,UAAWC,KAAEM,WACd,0BAAMP,UAAWC,KAAEO,oBAAnB,sCADJ,IACqF,6BACjF,yEAA8C,uBAAGC,KAAK,yDACIC,OAAO,UADnB,gBAA9C,O,oBCKGC,GATE,WACb,OACI,yBAAKX,UAAWC,KAAEW,cACd,+FACA,0BAAMZ,UAAWC,KAAEY,uBAAnB,sCAFJ,IAEwF,+B,kGCcjFC,gBAAU,CAAC1B,KAAK,yBAAhB0B,EAdQ,SAACpG,GACpB,OACI,0BAAMqG,SAAUrG,EAAMsG,cAClB,6BACI,kBAACC,GAAA,EAAD,CAAOjB,UAAWC,KAAEiB,WAAYC,UAAWC,KAAU9F,KAAM,iBAAkB+F,YAAY,wBAG7F,6BACI,4BAAQrB,UAAWC,KAAEqB,eAArB,qBCyCDC,GAjDE,SAAC7G,GACd,IAAMpD,EAAWkK,aAAY,SAAA9J,GAAK,OAAIA,EAAMuH,YAAY3H,YAClDmK,EAAOD,aAAY,SAAA9J,GAAK,OAAIA,EAAMR,KAAKnC,MACxCA,EAAM2F,EAAN3F,GAECc,EAAW6L,cAEjBC,qBAAU,WfuCiB,IAAC/L,EetCxBC,GfsCwBD,EetCCb,EfuC7B,uCAAO,WAAOc,GAAP,eAAAC,EAAA,sEACkBgE,IAAWG,gBAAgBrE,GAD7C,OACCK,EADD,OAEHJ,GA3BgCmG,EA2BC/F,EAASC,KA3BQ,CACtDZ,KAAMC,IAAQwG,kBACdC,aAAcA,KAuBP,iCAzB4B,IAACA,IAyB7B,OAAP,mDAAM,OetCH,CAACnG,EAAUd,IAEd,IAII6M,EAActK,EAASmF,KAAI,SAACoF,EAAMC,GAAP,OAC3B,yBAAKC,IAAKD,EAAO9B,UAAW6B,EAAKG,WAAaP,EAAOQ,KAAOC,cAAgBD,KAAOE,cAE/E,6BACI,0BAAMnC,UAAWiC,KAAOG,eAAgBP,EAAK1H,OAGjD,6BACI,8BAAO0H,EAAKQ,UAGfR,EAAKG,WAAaP,GACnB,6BACO,8BACKI,EAAKS,OAAS,yDAAc,4EAQhD,OACI,yBAAKtC,UAAWiC,KAAO3K,UACnB,6BACKsK,GAEL,yBAAK5B,UAAWiC,KAAOM,UACnB,kBAACC,GAAD,CAAazB,SAhCR,SAAC1L,Gf0CK,IAACO,EAAQZ,EezC5Ba,GfyCoBD,EezCCb,EfyCOC,EezCHK,Ef0C7B,uCAAO,WAAOQ,GAAP,iBAAAC,EAAA,6DACC2M,EAAUzN,EAAQ0N,eADnB,SAEkB5I,IAAWI,YAAYtE,EAAQ6M,GAFjD,OAGoB,OADnBxM,EAFD,QAGSd,QACRU,EAAS4F,EAAWxF,EAASC,KAAKA,KAAKlB,UAJxC,2CAAP,mDAAM,W,qBgBvCK2N,GAhBI,SAACjI,GAAW,IAEpBiB,EAAejB,EAAfiB,YACF5G,EAAmB2F,EAAnB3F,GAAIuG,EAAeZ,EAAfY,KAAMgD,EAAS5D,EAAT4D,MAEf,OACI,yBAAK0B,UAAWC,KAAE2C,QACd,yBAAKC,IAAKvE,GAAgBwE,KAAWC,IAAI,aACzC,yBAAKC,QAAS,WAAOrH,EAAY5G,KAC7B,kBAAC,IAAD,CAAS4F,GAAI,YAAc5F,GAAKuG,M,SCoCjC2H,GAzCD,SAACvI,GAEX,IAAMa,EAAiBiG,aAAY,SAAA9J,GAAK,OAAIA,EAAMuH,YAAY1D,kBAEvDI,EAAejB,EAAfiB,YAED9F,EAAW6L,cAMjB,OAJAC,qBAAU,WACN9L,EAASmE,OACV,CAACnE,IAEmB,OAAnB0F,EAAgC,kBAAC2H,GAAA,EAAD,MAGhC,6BAEQ3H,EAAe4H,OAAS,GACxB,yBAAKnD,UAAWiC,KAAOmB,SACnB,yBAAKpD,UAAWiC,KAAOoB,cAClB9H,EAAekB,KAAI,SAAAN,GAAI,OACpB,kBAAC,GAAD,CAAYb,KAAMa,EAAKmH,SAAUvB,IAAK5F,EAAKpH,GAAIA,GAAIoH,EAAKpH,GAAI4G,YAAaA,EAC7D2C,MAAOnC,EAAKrF,OAAOyH,YAGvC,kBAAC,GAAahD,EAAe,KAIjCA,EAAe4H,OAAS,GACxB,yBAAKnD,UAAWiC,KAAOmB,SAAvB,0MAEI,kBAAC,IAAD,CAASzI,GAAI,UAAb,4BAFJ,yJ,UCjCV4I,GAAmB3I,IAAM4I,MAAK,SAAC9I,GAAW,IAEvCuE,EAAwCvE,EAAxCuE,YAAaxD,EAA2Bf,EAA3Be,WAAYE,EAAejB,EAAfiB,YAE9B,OAAO,kBAAC,GAAD,CAASsD,YAAaA,EAAaxD,WAAYA,EAAYE,YAAaA,OASpE8D,eAAQ5E,aAND,SAACnD,GACnB,MAAO,CACHuH,YAAavH,EAAMuH,eAIqB,CAACxD,aAAYE,gBAAerB,KAA7DmF,CAA+E8D,I,8BCiB/EE,GAhCC,SAAC/I,GAGb,IAFA,IAAIgJ,EAAaC,KAAKC,KAAKlJ,EAAMmJ,gBAAkBnJ,EAAMrC,UACrDyL,EAAQ,GACHC,EAAI,EAAGA,GAAKL,EAAYK,IAC7BD,EAAME,KAAKD,GAGf,IAAIE,EAAeN,KAAKC,KAAKF,EAAahJ,EAAMoC,aAPzB,EAQiBoH,mBAAS,GAR1B,oBAQlBC,EARkB,KAQHC,EARG,KASnBC,GAAyBF,EAAgB,GAAKzJ,EAAMoC,YAAc,EAClEwH,EAAyBH,EAAgBzJ,EAAMoC,YAEnD,OACI,yBAAKkD,UAAWC,KAAEsE,WACbJ,EAAgB,GACjB,4BAAQnE,UAAWC,KAAEuE,eAAgBxB,QAAS,WAAOoB,EAAiBD,EAAgB,KAAtF,QAECL,EACI9F,QAAO,SAAAyG,GAAC,OAAIA,GAAKJ,GAAyBI,GAAKH,KAC/C7H,KAAI,SAAAgI,GACD,OAAO,0BAAM1C,IAAK0C,EAAGzE,UAAS,UAAKC,KAAEyE,gBAAP,YAA2BhK,EAAMtC,cAAgBqM,EAAIxE,KAAE0E,sBAAwB,IAChG3B,QAAS,WACLtI,EAAMkK,cAAcH,KACpBA,MAGxBN,EAAgBF,GACjB,4BAAQjE,UAAWC,KAAEuE,eAAgBxB,QAAS,WAAOoB,EAAiBD,EAAgB,KAAtF,U,oBC6CGU,GArEJ,SAACnK,GAER,IAAM7E,EAAW6L,cAEb9L,EAAS8E,EAAMyB,KAAKpH,GAJN,EAKqB2F,EAAMyB,KAAxCb,EALa,EAKbA,KAAMnG,EALO,EAKPA,OAAQ2B,EALD,EAKCA,OAAQ6G,EALT,EAKSA,SACtBd,EAA+CnC,EAA/CmC,oBAAqBiI,EAA0BpK,EAA1BoK,YAAaC,EAAarK,EAAbqK,UAevC,OACI,yBAAK/E,UAAWC,KAAE+E,UAEd,6BAEI,yBAAKhF,UAAWC,KAAEgF,gBACd,kBAAC,IAAD,CAAStK,GAAI,YAAc/E,GACvB,yBAAKiN,IAAqB,MAAhB/L,EAAOyH,MAAgBzH,EAAOyH,MAAQuE,KAAWC,IAAI,eAEnE,yBAAK/C,UAAWC,KAAEiF,sBACd,yBAAKlF,UAAWC,KAAEkF,gBAAiB7J,GACnC,yBAAK0E,UAAWC,KAAEmF,kBAAmBjQ,KAI5CwI,EACK,4BAAQqC,UAAWC,KAAEoF,cAAeC,SAAUzI,EAAoB0I,MAAK,SAAAxQ,GAAE,OAAIA,IAAOa,KAC5EoN,QAAS,WACL8B,EAAYlP,KAFxB,eAMA,4BAAQoK,UAAWC,KAAEoF,cAAeC,SAAUzI,EAAoB0I,MAAK,SAAAxQ,GAAE,OAAIA,IAAOa,KAC5EoN,QAAS,WACL+B,EAAUnP,KAFtB,cAUV,6BACI,6BACI,4BAAQoN,QAvCD,WACnBnN,EAAS8F,EAAY/F,MAuCL,kBAAC,IAAD,CAAS+E,GAAI,YAAb,yDCvCT6K,GAnBH,SAAC9K,GAAW,IAGhBW,EAEAX,EAFAW,MAAOwB,EAEPnC,EAFOmC,oBAAqBiI,EAE5BpK,EAF4BoK,YAAaC,EAEzCrK,EAFyCqK,UAAW3M,EAEpDsC,EAFoDtC,YACpDqN,EACA/K,EADA+K,cAAe9I,EACfjC,EADeiC,gBAAiBtE,EAChCqC,EADgCrC,SAAUyE,EAC1CpC,EAD0CoC,YAG9C,OACI,yBAAKkD,UAAWC,KAAEd,WACd,kBAAC,GAAD,CAAW/G,YAAaA,EAAawM,cAAea,EAAe5B,gBAAiBlH,EACzEtE,SAAUA,EAAUyE,YAAaA,IAC3CzB,EAAMoB,KAAI,SAAAC,GAAC,OACR,kBAAC,GAAD,CAAMqF,IAAKrF,EAAE3H,GAAIoH,KAAMO,EAAGG,oBAAqBA,EAAqBiI,YAAaA,EAC3EC,UAAWA,SCnBpBW,GAAiB,SACZhO,GACV,OAAOA,EAAMyH,UAAU9D,OAFlBqK,GAAiB,SAIbhO,GACT,OAAOA,EAAMyH,UAAU9G,UALlBqN,GAAiB,SAONhO,GAChB,OAAOA,EAAMyH,UAAUxC,iBARlB+I,GAAiB,SAUVhO,GACZ,OAAOA,EAAMyH,UAAU/G,aAXlBsN,GAAiB,SAaXhO,GACX,OAAOA,EAAMyH,UAAUvC,YAdlB8I,GAAiB,SAgBFhO,GACpB,OAAOA,EAAMyH,UAAUtC,qBCRzB8I,G,2MAOFF,cAAgB,SAAC3H,GACb,EAAKpD,MAAMkL,eAAe9H,GAC1B,EAAKpD,MAAMvC,SAAS2F,EAAY,EAAKpD,MAAMrC,W,mFAN3CoC,KAAKC,MAAMvC,SAASsC,KAAKC,MAAMtC,YAAaqC,KAAKC,MAAMrC,Y,+BASjD,IAAD,EAKDoC,KAAKC,MAFLkC,EAHC,EAGDA,WAAYvB,EAHX,EAGWA,MAAOsB,EAHlB,EAGkBA,gBAAiBtE,EAHnC,EAGmCA,SAAUD,EAH7C,EAG6CA,YAAayE,EAH1D,EAG0DA,oBAC3DiI,EAJC,EAIDA,YAAaC,EAJZ,EAIYA,UAAWjI,EAJvB,EAIuBA,YAG5B,OAAO,oCACFF,EACK,yBAAKoD,UAAWiC,KAAO4D,gBACrB,kBAAC3C,GAAA,EAAD,OAEF,KAEN,kBAAC,GAAD,CAAO7H,MAAOA,EAAOsB,gBAAiBA,EAAiBtE,SAAUA,EAAUD,YAAaA,EACjFqN,cAAehL,KAAKgL,cAAe5I,oBAAqBA,EACxDiI,YAAaA,EACbC,UAAWA,EAAWjI,YAAaA,S,GA7BzBlC,IAAML,WA8CpBM,gBAZO,SAACnD,GACnB,MAAO,CACH2D,MAAOqK,GAA4BhO,GACnCW,SAAUqN,GAA2BhO,GACrCiF,gBAAiB+I,GAAkChO,GACnDU,YAAasN,GAA8BhO,GAC3CkF,WAAY8I,GAA6BhO,GACzCmF,oBAAqB6I,GAAsChO,GAC3DoF,YAAapF,EAAMyH,UAAUrC,eAIG,CAAC8I,elBTX,SAAC9H,GAAD,MAAiB,CAACxI,KAAMC,IAAQsI,iBAAkBC,WAAYA,IkBSnC3F,SlBAjC,SAACC,EAAaC,GAClC,8CAAO,WAAOxC,GAAP,eAAAC,EAAA,6DACHD,EAASsH,GAAiB,IADvB,SAEkBjF,IAAQC,SAASC,EAAaC,GAFhD,OAECpC,EAFD,OAGHJ,EAASsH,GAAiB,IAC1BtH,GAfiBwF,EAeCpF,EAASC,KAAK+F,MAfJ,CAAC3G,KAAMC,IAAQqI,UAAWvC,MAAOA,KAgB7DxF,GAd2BqG,EAcCjG,EAASC,KAAKgG,WAdC,CAAC5G,KAAMC,IAAQwI,sBAAuB7B,WAAYA,KAS1F,iCATuB,IAACA,EAFVb,IAWd,OAAP,mDAAM,IkBDyDyJ,YlBkBxC,SAAC/P,GACxB,8CAAO,WAAOc,GAAP,eAAAC,EAAA,6DAEC0H,EAAYtF,IAAQK,eAAeuN,KAAK5N,KAFzC,SAGGqF,EAAa1H,EAAUd,EAAIyI,EAAWP,GAHzC,2CAAP,mDAAM,IkBnBsE8H,UlByBvD,SAAChQ,GACtB,8CAAO,WAAOc,GAAP,eAAAC,EAAA,6DACC0H,EAAYtF,IAAQO,aAAaqN,KAAK5N,KADvC,SAEGqF,EAAa1H,EAAUd,EAAIyI,EAAWT,GAFzC,2CAAP,mDAAM,KkB1BKlC,CAA6E8K,ICpD/EI,GAAe,SAACxL,GAMzB,OAL6B,SAACG,GAC1B,OAAO,kBAAC,IAAMsL,SAAP,CAAgBC,SAAU,4CAC7B,kBAAC1L,EAAaG,M,yCC2BXwL,GA3BA,SAACxL,GAAW,IAElBf,EAAUe,EAAVf,OACA2E,EAAwB5D,EAAxB4D,MAAOhF,EAAiBoB,EAAjBpB,MAAOe,EAAUK,EAAVL,OAEnB,OACI,4BAAQ2F,UAAWC,KAAEkG,kBACjB,yBAAKnG,UAAWC,KAAEmG,iBACd,yBAAKpG,UAAWC,KAAEoG,kBACd,yBAAKrG,UAAWC,KAAEqG,aAAczD,IAAK0D,KAAOxD,IAAI,SAChD,0BAAM/C,UAAWC,KAAEuG,cAAnB,mBAEJ,yBAAKxG,UAAWC,KAAEwG,kBACbpM,EACK,yBAAK2F,UAAWC,KAAEyG,gBACfpN,EACD,yBAAK0G,UAAWC,KAAE0G,kBAAmB9D,IAAc,MAATvE,EAAgBA,EAAQwE,KAAWC,IAAI,cACjF,4BAAQ/C,UAAWC,KAAE2G,YAAa5D,QAASrJ,GAA3C,YAEF,kBAAC,IAAD,CAASqG,UAAWC,KAAE2G,YAAajM,GAAI,UAAvC,cCpBpBkM,G,iLAEE,OAAO,kBAAC,GAAWpM,KAAKC,W,GAFFE,IAAML,WAcrBM,gBARS,SAACnD,GACrB,MAAO,CACH2C,OAAQ3C,EAAMR,KAAKmD,OACnBf,MAAO5B,EAAMR,KAAKoC,MAClBgF,MAAO5G,EAAMR,KAAKJ,UAIc,CAAC6C,OnB4DnB,WAClB,8CAAO,WAAO9D,GAAP,SAAAC,EAAA,sEACkBiD,IAAUY,SAD5B,OAE8B,IAF9B,OAEUzD,KAAKM,YACdX,EAASoI,EAAgB,KAAM,KAAM,MAAM,IAH5C,2CAAP,mDAAM,KmB7DKpD,CAAmCgM,I,oBCwB5CC,GAAiBhG,aAAU,CAAC1B,KAAM,SAAjB0B,EAlCL,SAAC,GAAoC,IAAnCE,EAAkC,EAAlCA,aAActK,EAAoB,EAApBA,MAAOgD,EAAa,EAAbA,QACrC,OACI,0BAAMqH,SAAUC,GAKZ,6BAEI,kBAACC,GAAA,EAAD,CAAOjB,UAAWC,KAAE8G,iBAAkB1F,YAAa,QAAS/F,KAAM,QAAS6F,UAAW6F,KAC/EC,SAAU,CAACC,SAEtB,6BACI,kBAACjG,GAAA,EAAD,CAAOjB,UAAWC,KAAE8G,iBAAkB1F,YAAa,WAAY/F,KAAM,WAAY6F,UAAW6F,KAAY1R,KAAK,WACtG2R,SAAU,CAACC,SAEtB,6BACI,kBAACjG,GAAA,EAAD,CAAOE,UAAW,QAAS7L,KAAK,WAAWgG,KAAM,eADrD,gBAKC5B,GAAW,yBAAKmJ,IAAKnJ,EAASqJ,IAAI,YAClCrJ,GAAW,kBAACuH,GAAA,EAAD,CAAOE,UAAW,QAAS7L,KAAK,OAAOgG,KAAM,UAAW2L,SAAU,CAACC,QAE9ExQ,GAAS,yBAAKsJ,UAAWC,KAAEkH,kBACvBzQ,GAEL,6BACI,4BAAQsJ,UAAWC,KAAEmH,gBAArB,gBA6CDvM,gBANS,SAACnD,GACrB,MAAQ,CACJ2C,OAAQ3C,EAAMR,KAAKmD,OACnBX,QAAShC,EAAMR,KAAKwC,WAGY,CAACP,mBpBpBP,SAACC,GAC/B,8CAAO,WAAOvD,GAAP,iBAAAC,EAAA,sEACkBiD,IAAUI,mBAAmBC,GAD/C,OAE8B,KAD7BnD,EADD,QAEUC,KAAKM,WACdX,EAASwI,MAEuB,KAA7BpI,EAASC,KAAKM,YACbX,EA7BZ,uCAAO,WAAOA,GAAP,iBAAAC,EAAA,sEACkB8D,IAAWC,aAD7B,OACC5D,EADD,OAEGyD,EAAUzD,EAASC,KAAKmR,IAC9BxR,EAASsI,EAAezE,IAHrB,2CAAP,mDAAM,IA+BM1E,EAAUiB,EAASC,KAAKoB,SAAS6L,OAAS,EAAIlN,EAASC,KAAKoB,SAAS,GAAK,aAC9EzB,EAASuB,YAAW,QAAS,CAACC,OAAQrC,MATvC,2CAAP,mDAAM,KoBmBK6F,EArCD,SAACH,GAAW,IAEjBL,EAAmBK,EAAnBL,OAAQX,EAAWgB,EAAXhB,QACRP,EAAsBuB,EAAtBvB,mBAML,OAAIkB,EACO,kBAAC,IAAD,CAAUM,GAAI,aAGrB,yBAAKqF,UAAWC,KAAEqH,WACd,yBAAKtH,UAAWC,KAAEsH,iBACd,wBAAIvH,UAAWC,KAAEuH,kBAAjB,UACA,kBAACV,GAAD,CAAgB/F,SAXX,SAAC1L,GACd8D,EAAmB9D,IAUyBqE,QAASA,KAEjD,yBAAKsG,UAAWC,KAAEsH,iBACd,yBAAKvH,UAAWC,KAAEwH,iBAAlB,gcAEe,6BACX,0BAAMzH,UAAWC,KAAEyH,iBAAnB,+BAAsE,6BACtE,0BAAM1H,UAAWC,KAAEyH,iBAAnB,oBAA2D,6BAJ/D,wHC/CVC,GAAO/M,IAAMgN,MAAK,kBAAM,iCACxBC,GAAmBjN,IAAMgN,MAAK,kBAAM,iCAEpCE,G,2MAEFC,eAAiB,SAACC,GACdvR,QAAQwR,IAAID,I,mFAIZvN,KAAKC,MAAMwN,gBACXjN,OAAOkN,iBAAiB,qBAAuB1N,KAAKsN,kB,6CAIpD9M,OAAOmN,oBAAoB,qBAAuB3N,KAAKsN,kB,+BAKvD,OAAKtN,KAAKC,MAAMiE,YASZ,yBAAKqB,UAAU,eACX,kBAAC,GAAD,MAEA,0BAAMA,UAAWC,IAAEoI,WAEf,yBAAKrI,UAAWC,IAAEC,QACd,kBAAC,GAAD,CAAQxI,MAAO+C,KAAKC,MAAMhD,MAAMwH,WAGpC,yBAAKc,UAAWC,IAAEwC,SACd,kBAAC,IAAD,KACI,kBAAC,IAAD,CAAO6F,OAAK,EAACC,KAAK,IAAIC,OAAQ,kBAAM,kBAAC,IAAD,CAAU7N,GAAK,gBACnD,kBAAC,IAAD,CAAO4N,KAAK,SAASC,OAAQ,kBAAM,kBAAC,GAAD,SACnC,kBAAC,IAAD,CAAOD,KAAK,oBAAoBC,OAAQzC,GAAa8B,MACrD,kBAAC,IAAD,CAAOU,KAAK,WAAWC,OAAQ,kBAAM,kBAAC,GAAD,SACrC,kBAAC,IAAD,CAAOD,KAAK,SAASC,OAAQ,kBAAM,kBAAC,GAAD,SACnC,kBAAC,IAAD,CAAOD,KAAK,QAAQC,OAAQzC,GAAa4B,MACzC,kBAAC,IAAD,CAAOY,KAAK,SAASC,OAAQ,kBAAM,kBAAC,GAAD,SACnC,kBAAC,IAAD,CAAOD,KAAK,YAAYC,OAAQ,kBAAM,kBAAC,GAAD,SACtC,kBAAC,IAAD,CAAOD,KAAK,IAAIC,OAAQ,kBAAM,qDA1B1C,yBAAKxI,UAAWC,IAAEwI,eACd,kBAACvF,GAAA,EAAD,W,GApBFtI,IAAML,WA8DlBmO,GAAejJ,YACjBkJ,IACA9N,aARoB,SAACnD,GACrB,MAAQ,CACJiH,YAAajH,EAAM4H,IAAIX,eAMF,CAACuJ,cnBlED,kBAAM,SAACrS,GAChC,IAAI+S,EAAU/S,EAASwI,KACvB9G,QAAQsR,IAAI,CAACD,IAAU1P,MAAK,WACxBrD,EALiC,CAACP,KAAMC,IAAQsJ,iCmBkEnCY,CAGpBqI,IAYcgB,GAVU,WACrB,OAEI,kBAAC,IAAD,KACI,kBAAC,IAAD,CAAUpJ,MAAOA,IACb,kBAACgJ,GAAD,CAAchR,MAAOgI,GAAMzI,WAAYpB,SAAU6J,GAAM7J,SAASiQ,KAAKpG,SCtFrFqJ,IAASP,OAAO,kBAAC,GAAD,MAAqBQ,SAASC,eAAe,S/B2HvD,kBAAmBC,WACrBA,UAAUC,cAAcC,MAAMlQ,MAAK,SAAAmQ,GACjCA,EAAaC,iB,iBgCnInBxO,EAAOC,QAAU,87N,+BCAjB,kCAAO,IAAMxF,EAAU,CAEnBsJ,wBAAyB,6CAGzBX,cAAe,oCACfE,YAAa,kCACbI,eAAgB,qCAChBE,qBAAsB,2CAGtBhD,YAAa,qCACbG,gBAAiB,yCACjBE,kBAAmB,2CAGnBvG,SAAU,kCACVW,iBAAkB,0CAClBT,gBAAiB,yCACjBqB,mBAAoB,4CAGpBiG,UAAW,iCACXE,YAAa,mCACbU,UAAW,iCACXC,iBAAkB,wCAClBE,sBAAuB,6CACvBX,mBAAoB,0CACpBE,6BAA8B,sD,gCC5BlC,wDAQgB4F,IAJD,SAACxI,GACZ,OAAO,yBAAKsF,UAAWC,IAAEsJ,UAAW1G,IAAK0G,Q,mBCJ7CzO,EAAOC,QAAU,CAAC,SAAW,0BAA0B,QAAU,yBAAyB,aAAe,8BAA8B,cAAgB,+BAA+B,cAAgB,iC,mBCAtMD,EAAOC,QAAU,CAAC,UAAY,6BAA6B,gBAAkB,mCAAmC,sBAAwB,yCAAyC,eAAiB,oC,iICErLqG,G,OAAW,SAAC,GAA6B,IAA5BoI,EAA2B,EAA3BA,MAAOC,EAAoB,EAApBA,KAAS/O,EAAW,gCACjD,OACI,6BACI,6BACI,8CAAgB8O,EAAU9O,KAE7B+O,EAAK/S,OAAS+S,EAAKC,SAAW,8BAAOD,EAAK/S,OAJ/C,OASKsQ,EAAa,SAAC,GAA6B,IAA5BwC,EAA2B,EAA3BA,MAAOC,EAAoB,EAApBA,KAAS/O,EAAW,gCACnD,OACI,6BACI,6BACI,2CAAW8O,EAAU9O,KAExB+O,EAAK/S,OAAS+S,EAAKC,SAAW,8BAAOD,EAAK/S,OAJ/C,O,gCChBR,kCAKO,IAAMwQ,EAAe,SAAAyC,GACxB,IAAGA,EACH,MAAO,sB,mBCNX7O,EAAOC,QAAU,CAAC,cAAc,yBAAyB,UAAY,uBAAuB,cAAgB,6B,mBCA5GD,EAAOC,QAAU,CAAC,QAAU,yBAAyB,aAAe,8BAA8B,SAAW,4B,mBCA7GD,EAAOC,QAAU,CAAC,YAAc,sC,mBCAhCD,EAAOC,QAAU,CAAC,UAAY,yBAAyB,mBAAqB,oC,mBCA5ED,EAAOC,QAAU,CAAC,aAAe,+BAA+B,sBAAwB,0C,mBCAxFD,EAAOC,QAAU,CAAC,WAAa,gCAAgC,cAAgB,sC","file":"static/js/main.8952fe9f.chunk.js","sourcesContent":["export let initialState = {\r\n    posts: [\r\n        {id: 1, message: \"It is React\", likesCount: 1},\r\n        {id: 2, message: \"It is thirst post\", likesCount: 16},\r\n        {id: 3, message: \"It is second post\", likesCount: 9},\r\n        {id: 4, message: \"It is first post\", likesCount: 111}\r\n    ],\r\n    profile: null,\r\n    status: \"\"\r\n};","import {profileAPI} from \"../../api/api\";\r\nimport {stopSubmit} from \"redux-form\";\r\nimport {actions} from \"../actions\";\r\nimport {initialState} from \"../initialStates/profileInitState\";\r\n\r\nconst profileReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case actions.ADD_POST:\r\n            return {\r\n                ...state,\r\n                posts: [...state.posts, {id: 5, message: action.formData.newPostText, likesCount: 7}],\r\n            };\r\n        case actions.SET_USER_PROFILE:\r\n\r\n            return {...state, profile: action.profile};\r\n        case actions.ADD_USER_STATUS:\r\n            return {...state, status: action.status};\r\n\r\n        case actions.SAVE_PHOTO_SUCCESS:\r\n            return {...state, profile: {...state.profile, photos: action.photos}};\r\n\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nexport const addPostCreator = (formData) => ({type: actions.ADD_POST, formData: formData});\r\nexport const setUserProfile = (profile) => ({type: actions.SET_USER_PROFILE, profile: profile});\r\nexport const addUserStatus = (status) => ({type: actions.ADD_USER_STATUS, status: status});\r\nexport const savePhotoSuccess = (photos) => ({type: actions.SAVE_PHOTO_SUCCESS, photos});\r\n\r\nexport const UserProfile = (userId) => {\r\n    return async (dispatch) => {\r\n        let response = await profileAPI.getUserProfile(userId)\r\n        dispatch(setUserProfile(response.data));\r\n    }\r\n};\r\n\r\nexport const UserStatus = (userId) => {\r\n    return async (dispatch) => {\r\n        let response = await profileAPI.getUserStatus(userId)\r\n        dispatch(addUserStatus(response.data));\r\n    }\r\n};\r\n\r\nexport const UpdateUserStatus = (status) => {\r\n    return async (dispatch) => {\r\n        try {\r\n            let response = await profileAPI.updateStatus(status);\r\n            if (response.data.resultCode === 0) {\r\n                dispatch(addUserStatus(status));\r\n            }\r\n        } catch (error) {\r\n            console.error(\"something error\");\r\n            debugger\r\n        }\r\n    }\r\n};\r\n\r\nexport const SavePhoto = (file) => {\r\n    return async (dispatch) => {\r\n        let response = await profileAPI.savePhoto(file);\r\n        if (response.data.resultCode === 0) {\r\n            dispatch(savePhotoSuccess(response.data.data.photos));\r\n        }\r\n    }\r\n};\r\n\r\nexport const UpdateProfile = (formData) => {\r\n    return async (dispatch, getState) => {\r\n\r\n        const userId = getState().auth.id;\r\n        let response = await profileAPI.saveProfile(formData);\r\n        if (response.data.resultCode === 0) {\r\n            dispatch(UserProfile(userId));\r\n        } else {\r\n            dispatch(stopSubmit('ProfileDataForm', {_error: response.data.messages[0]}))\r\n            return Promise.reject(response.data.messages[0])\r\n        }\r\n    }\r\n};\r\n\r\nexport default profileReducer;","import * as axios from \"axios/index\";\r\n\r\nconst instance = axios.create(\r\n    {\r\n        baseURL: \"https://social-network.samuraijs.com/api/1.0/\",\r\n        withCredentials: true, //благодаря этому true кука цепляется //добавляем элементы, еоторые нам нужны\r\n        headers: {  //все запросы кроме гет требуют обязат ключа доступа. с каждым запросом на сервак отправляются и возвращ заголовки\r\n            \"API-KEY\": \"a3b59b28-fda3-496d-8604-62213f44ac80\"\r\n        }\r\n    }\r\n);\r\n\r\nexport const userAPI = {\r\n    getUsers(currentPage = 1, pageSize = 10) {\r\n        return instance.get(`users?page=${currentPage}&count=${pageSize}`)\r\n    },\r\n    unfollowAtUser(id) {\r\n        return (\r\n            instance.delete(`follow/${id}`)\r\n        )\r\n    },\r\n    followAtUser(id) {\r\n        return (\r\n            instance.post(`follow/${id}`, {})\r\n        )\r\n    }\r\n};\r\n\r\nexport const profileAPI = {\r\n    getUserProfile(userId) {\r\n        return (\r\n            instance.get(`profile/` + userId)\r\n        )\r\n    },\r\n    getUserStatus(userId) {\r\n        return (\r\n            instance.get(`/profile/status/` + userId)\r\n        )\r\n    },\r\n    updateStatus(status) {\r\n        return (\r\n            instance.put(`/profile/status`, {status: status}))\r\n    },\r\n    savePhoto(PhotoFile) {\r\n        const formData = new FormData();\r\n        formData.append('image', PhotoFile);\r\n        return (\r\n            instance.put(`/profile/photo`, formData, {\r\n                headers: {\r\n                    \"Content-type\": \"multipart/form-data\"\r\n                }\r\n            }))\r\n    },\r\n    saveProfile(profile) {\r\n        return (\r\n            instance.put(`/profile`, profile))\r\n    }\r\n};\r\n\r\nexport const headerAPI = {\r\n    getUserLogin() {\r\n        return (\r\n            instance.get(`auth/me`)\r\n        )\r\n        /*если кросдоменные запросы, то браузер не отправляет куку автоматически\r\n        * поэтому вторым параметром передаем withCredentials и если сервак поддерживает то на него уйдет запрос*/\r\n    },\r\n    getUserLoginPhoto(id) {\r\n        return (\r\n            instance.get(`profile/` + id).then(response => response.data.photos)\r\n        )\r\n    },\r\n    authorizeOnService(authorizeData) {\r\n        let email = authorizeData.login;\r\n        let password = authorizeData.Password;\r\n        let rememberMe = authorizeData.rememberMe;\r\n        let captcha = authorizeData.captcha;\r\n        return (\r\n            instance.post(`auth/login`, {email: email, password: password, rememberMe: rememberMe, captcha: captcha})\r\n        )\r\n    },\r\n    logout() {\r\n        return (\r\n            instance.delete(`auth/login`)\r\n        )\r\n    }\r\n};\r\n\r\nexport const captchaAPI = {\r\n    getCaptcha() {\r\n        return (\r\n            instance.get(`security/get-captcha-url`)\r\n        )\r\n    }\r\n};\r\n\r\nexport const dialogsAPI = {\r\n    startDialogs(userId) {\r\n        return (\r\n            instance.put(`dialogs/${userId}`)\r\n        )\r\n    },\r\n    getAllDialogs() {\r\n        return (\r\n            instance.get(`dialogs`)\r\n        )\r\n    },\r\n    getListMessages(userId) {\r\n        return (\r\n            instance.get(`dialogs/${userId}/messages`)\r\n        )\r\n    },\r\n    sendMessage(userId, message) {\r\n        return (\r\n            instance.post(`dialogs/${userId}/messages`, {body: message})\r\n        )\r\n    }\r\n};\r\n\r\n\r\n","import React from 'react';\r\nimport {Redirect} from \"react-router-dom\";\r\nimport {connect} from \"react-redux\";\r\n\r\nlet mapStateToPropsForRedirect = (state) => {\r\n    return {\r\n        isAuth: state.auth.isAuth\r\n    }\r\n};\r\n\r\nexport const  withAuthRedirect = (Component) => {\r\n    class RedirectComponent extends React.Component {\r\n        render() {\r\n            if (!this.props.isAuth) return <Redirect to={\"/login\"}/>;\r\n            return <Component{...this.props}/>\r\n        }\r\n    }\r\n\r\n    let ConnectedAuthRedirectComponent = connect(mapStateToPropsForRedirect)(RedirectComponent);\r\n\r\n    return ConnectedAuthRedirectComponent;\r\n\r\n};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialog\":\"DialogItem_dialog__2bV-3\"};","module.exports = __webpack_public_path__ + \"static/media/preloader.99509660.svg\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"preloader\":\"Preloader_preloader__WHgrt\"};","module.exports = __webpack_public_path__ + \"static/media/logo.840c9b5f.svg\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"navBar\":\"Navbar_navBar__HFI8e\",\"navBar__item\":\"Navbar_navBar__item__1Nhsw\",\"active\":\"Navbar_active__196W0\",\"navBar__friendsItems\":\"Navbar_navBar__friendsItems__2MUD0\",\"navBar__friends\":\"Navbar_navBar__friends__3XNs_\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"usersPage\":\"Users_usersPage__19mCD\",\"userItem\":\"Users_userItem__1xDq3\",\"userItem__statusName\":\"Users_userItem__statusName__1Q160\",\"userItem__info\":\"Users_userItem__info__25Wdp\",\"userItem__name\":\"Users_userItem__name__2_lQJ\",\"userItem__status\":\"Users_userItem__status__SlDoh\",\"userItem__btn\":\"Users_userItem__btn__37EPU\",\"usersPreloader\":\"Users_usersPreloader__zjSGy\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loginForm__input\":\"Login_loginForm__input__20pbt\",\"loginForm__error\":\"Login_loginForm__error__3Ir6U\",\"loginForm__btn\":\"Login_loginForm__btn__3yjrm\",\"loginPage\":\"Login_loginPage__3c2hn\",\"loginPage__item\":\"Login_loginPage__item__1xg4A\",\"loginPage__title\":\"Login_loginPage__title__2t2qZ\",\"loginPage__text\":\"Login_loginPage__text__2M2XS\",\"loginPage__data\":\"Login_loginPage__data__PMILg\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header_container\":\"Header_header_container__11iKB\",\"header__content\":\"Header_header__content__3OoJr\",\"header__logoData\":\"Header_header__logoData__2RBjE\",\"header__UserDara\":\"Header_header__UserDara__1ZmzU\",\"header__logo\":\"Header_header__logo__2f-y_\",\"header__name\":\"Header_header__name__15txp\",\"header__UserPhoto\":\"Header_header__UserPhoto__1jngX\",\"header__select\":\"Header_header__select__28_IE\",\"header__btn\":\"Header_header__btn__1qaGf\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"FormsControls_formControl__1xF8Q\",\"error\":\"FormsControls_error__3CD2R\",\"loginError\":\"FormsControls_loginError__2kNki\"};","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","export let initialState = {\r\n    messages: [],\r\n    users: [\r\n        {id: 1, name: \"Dimas\"},\r\n        {id: 2, name: \"Alex\"},\r\n        {id: 3, name: \"Sergy\"},\r\n        {id: 4, name: \"Anton\"},\r\n        {id: 5, name: \"Kate\"},\r\n        {id: 6, name: \"Mark\"}\r\n    ],\r\n    listAllDialogs: null,\r\n    totalCountMessages: null\r\n};","import {actions} from \"../actions\";\r\nimport {initialState} from \"../initialStates/dialogsInitState\";\r\nimport {dialogsAPI} from \"../../api/api\";\r\n\r\nconst dialogsReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case actions.ADD_MESSAGE:\r\n            return {\r\n                ...state,\r\n                messages: [...state.messages, {...action.formData}]\r\n            };\r\n        case actions.ADD_ALL_DIALOGS:\r\n            return {\r\n                ...state,\r\n                listAllDialogs: [...action.listDialogs]\r\n            };\r\n        case actions.GET_LIST_MESSAGES:\r\n            return {\r\n                ...state,\r\n                messages: [...action.listMessages.items],\r\n                totalCountMessages: action.listMessages.totalCount\r\n            };\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nexport const addMessage = (formData) => ({type: actions.ADD_MESSAGE, formData: formData});\r\nexport const addAllDialogs = (listDialogs) => ({type: actions.ADD_ALL_DIALOGS, listDialogs: listDialogs});\r\nexport const getListMessagesFromUser = (listMessages) => ({\r\n    type: actions.GET_LIST_MESSAGES,\r\n    listMessages: listMessages\r\n});\r\n\r\n\r\nexport const startDialog = (userId) => {\r\n    return async (dispatch) => {\r\n\r\n        let response = await dialogsAPI.startDialogs(userId)\r\n        if (response.data.resultCode === 0) {\r\n            dispatch(getAllDialogs())\r\n\r\n        }\r\n    }\r\n};\r\n\r\nexport const getAllDialogs = () => {\r\n    return async (dispatch) => {\r\n        let response = await dialogsAPI.getAllDialogs();\r\n        dispatch(addAllDialogs(response.data));\r\n    }\r\n};\r\n\r\nexport const getListMessages = (userId) => {\r\n    return async (dispatch) => {\r\n        let response = await dialogsAPI.getListMessages(userId);\r\n        dispatch(getListMessagesFromUser(response.data));\r\n    }\r\n};\r\n\r\nexport const sendMessage = (userId, message) => {\r\n    return async (dispatch) => {\r\n        let content = message.newMessageBody\r\n        let response = await dialogsAPI.sendMessage(userId, content);\r\n        if(response.status === 200) {\r\n            dispatch(addMessage(response.data.data.message));\r\n        }\r\n    }\r\n};\r\n\r\nexport default dialogsReducer;","export let initialState = {\r\n    user: [\r\n        {id: 1, name: \"Kate\"},\r\n        {id: 2, name: \"Valera\"},\r\n        {id: 3, name: \"Mark\"}\r\n    ]\r\n};\r\n","import {initialState} from \"../initialStates/sideBarInitState\";\r\n\r\nconst sidebarReducer = (state = initialState, action) => {\r\n    return state;\r\n};\r\n\r\n\r\nexport default sidebarReducer;","export  const updateObjectInArray = (items, itemId, objPropName, newObjProps) => {\r\n   return items.map(u => {\r\n        if (u[objPropName] === itemId) {\r\n            return {...u, ...newObjProps}\r\n        }\r\n        return u;\r\n    })\r\n}","export let initialState = {\r\n    users: [],\r\n    pageSize: 8,\r\n    totalUsersCount: 0,\r\n    currentPage: 1,\r\n    isFetching: false,\r\n    followingInProgress: [],\r\n    portionSize: 10\r\n};","import {userAPI} from \"../../api/api\";\r\nimport {updateObjectInArray} from \"../../utils/object-helpers\";\r\nimport {actions} from \"../actions\";\r\nimport {initialState} from \"../initialStates/usersInitState\";\r\n\r\nconst usersReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case actions.SUBSCRIBE:\r\n            return {\r\n                ...state,\r\n                users: updateObjectInArray(state.users, action.userId, \"id\", {followed: true})\r\n            };\r\n        case actions.UNSUBSCRIBE:\r\n            return {\r\n                ...state,\r\n                users: updateObjectInArray(state.users, action.userId, \"id\", {followed: false})\r\n            };\r\n        case actions.SET_USERS: {\r\n            return {...state, users: [...action.users]}\r\n        }\r\n        case actions.SET_CURRENT_PAGE: {\r\n            return {...state, currentPage: action.pageNumber}\r\n        }\r\n        case actions.SET_TOTAL_USERS_COUNT: {\r\n            return {...state, totalUsersCount: action.totalCount}\r\n        }\r\n        case actions.TOGGLE_IS_FETCHING: {\r\n            return {...state, isFetching: action.isFetching}\r\n        }\r\n        case actions.TOGGLE_IS_FOLLOWING_PROGRESS: {\r\n            return {\r\n                ...state,\r\n                followingInProgress: action.isFetching\r\n                    ? [...state.followingInProgress, action.userId]\r\n                    : state.followingInProgress.filter(id => !action.userId)\r\n            }\r\n        }\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\n\r\nexport const follow = (userId) => ({type: actions.SUBSCRIBE, userId: userId});\r\nexport const unFollow = (userId) => ({type: actions.UNSUBSCRIBE, userId: userId});\r\nexport const setUsers = (users) => ({type: actions.SET_USERS, users: users});\r\nexport const setCurrentPage = (pageNumber) => ({type: actions.SET_CURRENT_PAGE, pageNumber: pageNumber});\r\nexport const setUsersTotalCount = (totalCount) => ({type: actions.SET_TOTAL_USERS_COUNT, totalCount: totalCount});\r\nexport const toggleIsFetching = (isFetching) => ({type: actions.TOGGLE_IS_FETCHING, isFetching: isFetching});\r\nexport const setToggleFollowingProgress = (isFetching, userId) => ({\r\n    type: actions.TOGGLE_IS_FOLLOWING_PROGRESS,\r\n    isFetching: isFetching,\r\n    userId: userId\r\n});\r\n\r\nexport const getUsers = (currentPage, pageSize) => {\r\n    return async (dispatch) => {\r\n        dispatch(toggleIsFetching(true));\r\n        let response = await userAPI.getUsers(currentPage, pageSize)\r\n        dispatch(toggleIsFetching(false));\r\n        dispatch(setUsers(response.data.items));\r\n        dispatch(setUsersTotalCount(response.data.totalCount));\r\n    }\r\n};\r\n\r\nconst isSubscribed = async (dispatch, id, apiMethod, actionCreator) => {\r\n    dispatch(setToggleFollowingProgress(true, id));\r\n    let response = await apiMethod(id);\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(actionCreator(id))\r\n    }\r\n    dispatch(setToggleFollowingProgress(false, id));\r\n};\r\nexport const unsubscribe = (id) => {\r\n    return async (dispatch) => {\r\n        //забиндил потому что метод беру у объекта и вызываю оторвано от самого объекта\r\n        let apiMethod = userAPI.unfollowAtUser.bind(userAPI);\r\n        await isSubscribed(dispatch, id, apiMethod, unFollow)\r\n    }\r\n};\r\nexport const subscribe = (id) => {\r\n    return async (dispatch) => {\r\n        let apiMethod = userAPI.followAtUser.bind(userAPI);\r\n        await isSubscribed(dispatch, id, apiMethod, follow)\r\n    }\r\n};\r\n\r\nexport default usersReducer;","export let initialState = {\r\n    id: null,\r\n    email: null,\r\n    login: null,\r\n    photos: null,\r\n    isAuth: false,\r\n    captcha: null\r\n};","import {captchaAPI, headerAPI} from \"../../api/api\";\r\nimport {stopSubmit} from \"redux-form\";\r\nimport {actions} from \"../actions\";\r\nimport {initialState} from \"../initialStates/authInitState\";\r\n\r\nconst authReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case actions.SET_USER_DATA:\r\n            return {\r\n                ...state,\r\n                ...action.data\r\n            };\r\n        case actions.SET_USER_PHOTO:\r\n            return {\r\n                ...state,\r\n                photos: action.photo\r\n            };\r\n        case actions.AUTHORIZE_ON_SERVICE:\r\n            return {\r\n                ...state,\r\n                id: action.id\r\n            };\r\n\r\n        case actions.GET_CAPTCHA:\r\n            return {\r\n                ...state,\r\n                captcha: action.captcha\r\n            };\r\n        default:\r\n            return state;\r\n    }\r\n\r\n};\r\n\r\n\r\nexport const setAuthUserData = (id, login, email, isAuth) => ({type: actions.SET_USER_DATA, data: {id, login, email, isAuth}});\r\nexport const setCaptchaData = (captcha) => ({type: actions.GET_CAPTCHA, captcha: captcha});\r\nexport const setAuthUserPhoto = (photo) => ({type: actions.SET_USER_PHOTO, photo: photo});\r\n\r\nconst getCaptcha = () => {\r\n    return async (dispatch) => {\r\n        let response = await captchaAPI.getCaptcha();\r\n        const captcha = response.data.url;\r\n        dispatch(setCaptchaData(captcha));\r\n    };\r\n};\r\n\r\nexport const setAuthUser = () => {\r\n    return async (dispatch) => {\r\n        let response = await headerAPI.getUserLogin();\r\n        if (response.data.resultCode === 0) {\r\n            let id = response.data.data.id;\r\n            let login = response.data.data.login;\r\n            let email = response.data.data.email;\r\n            dispatch(setAuthUserData(id, login, email, true));\r\n            headerAPI.getUserLoginPhoto(id).then(photos => {\r\n                dispatch(setAuthUserPhoto(photos.small));\r\n            });\r\n        }\r\n    };\r\n};\r\n\r\nexport const authorizeOnService = (authorizeData) => {\r\n    return async (dispatch) => {\r\n        let response = await headerAPI.authorizeOnService(authorizeData);\r\n        if (response.data.resultCode === 0) {\r\n            dispatch(setAuthUser())\r\n        } else {\r\n            if(response.data.resultCode === 10) {\r\n                dispatch(getCaptcha())\r\n            }\r\n            let message = response.data.messages.length > 0 ? response.data.messages[0] : \"Some error\";\r\n            dispatch(stopSubmit('login', {_error: message}));\r\n\r\n        }\r\n    }\r\n\r\n};\r\n\r\nexport const logout = () => {\r\n    return async (dispatch) => {\r\n        let response = await headerAPI.logout();\r\n        if (response.data.resultCode === 0) {\r\n            dispatch(setAuthUserData(null, null, null, false));\r\n        }\r\n    }\r\n};\r\n\r\nexport default authReducer;","export let initialState = {\r\n    initialized: false\r\n};","import {setAuthUser} from \"./auth-reducer\";\r\nimport {actions} from \"../actions\";\r\nimport {initialState} from \"../initialStates/appInitState\";\r\n\r\nconst appReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case actions.SET_INITIALIZED_SUCCESS:\r\n            return {\r\n                ...state,\r\n                initialized: true\r\n            };\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nexport const initializedSuccess = () => ({type: actions.SET_INITIALIZED_SUCCESS});\r\n\r\nexport const initializeApp = () => (dispatch) => {\r\n    let promise = dispatch(setAuthUser());\r\n    Promise.all([promise]).then(() => {\r\n        dispatch(initializedSuccess())\r\n    })\r\n};\r\n\r\nexport default appReducer;","import {applyMiddleware, combineReducers, compose, createStore} from \"redux\";\r\nimport { reducer as formReducer } from 'redux-form'\r\nimport profileReducer from \"./reducers/profile-reducer\";\r\nimport dialogsReducer from \"./reducers/dialogs-reducer\";\r\nimport sidebarReducer from \"./reducers/sidebar-reducer\";\r\nimport usersReducer from \"./reducers/users-reducer\";\r\nimport authReducer from \"./reducers/auth-reducer\";\r\nimport thunkMiddleware from \"redux-thunk\";\r\nimport appReducer from \"./reducers/app-reducer\";\r\n\r\nlet reducers = combineReducers({  //передаем этой функции наши редюсоры. импортим из библиотеки redux\r\n    profilePage: profileReducer,  //юда приходит state от редюсеров. и все это упаковывается в общий state\r\n    dialogsPage: dialogsReducer,\r\n    sideBar: sidebarReducer,\r\n    usersPage: usersReducer,\r\n    auth: authReducer,\r\n    form: formReducer,\r\n    app:appReducer\r\n});\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst store = createStore(reducers, composeEnhancers(applyMiddleware(thunkMiddleware)\r\n));\r\n\r\n//thunkMiddleware- промежуточный уровень\r\n//автоматически createStore создает внутри себя state у которого есть 3 свойства(reducers)\r\nwindow.__store__ = store;\r\nexport default store;\r\n","import React from 'react';\r\nimport c from '../../styles/Navbar.module.scss';\r\nimport {NavLink} from \"react-router-dom\";\r\nimport FriendsSiteBar from \"./FriendsSiteBar/FriendsSiteBar\";\r\n\r\nconst Navbar = (props) => {\r\n    /*let friendsItems = props.state.user.map((u) => (<FriendsSiteBar name={u.name} key={u.id} id={u.id}/>));*/\r\n    return (\r\n        <nav className={c.navBar}>\r\n            <div className={c.navBar__item}>\r\n                <NavLink to=\"/profile\"\r\n                         activeClassName={c.active}>Profile</NavLink> {/* activeC.N. с помошью этого мы добавл класс для активных ссылок*/}\r\n            </div>\r\n            <div className={c.navBar__item}>\r\n                <NavLink to=\"/dialogs\" activeClassName={c.active}>Message</NavLink>\r\n            </div>\r\n            <div className={c.navBar__item}>\r\n                <NavLink to=\"/users\" activeClassName={c.active}>Users</NavLink>\r\n            </div>\r\n            <div className={c.navBar__item}>\r\n                <NavLink to=\"/news\" activeClassName={c.active}>News</NavLink>\r\n            </div>\r\n            <div className={c.navBar__item}>\r\n                <NavLink to=\"/music\" activeClassName={c.active}>Music</NavLink>\r\n            </div>\r\n            <div className={c.navBar__item}>\r\n                <NavLink to=\"/settings\" activeClassName={c.active}>Settings</NavLink>\r\n            </div>\r\n            {/*<div className={c.navBar__friends}>\r\n                <h3> Friends </h3>\r\n                <div className={c.navBar__friendsItems}>\r\n                    {friendsItems}\r\n                </div>\r\n            </div>*/}\r\n        </nav>\r\n    )\r\n};\r\n\r\nexport default Navbar;","import React from 'react';\r\nimport c from '../../styles/Music.module.scss';\r\n\r\nconst Music = () => {\r\n    return (\r\n        <div className={c.musicPage}>\r\n            <span className={c.musicPage__warning}>This section is under development.</span> <br/>\r\n            <span>But you can listen to my playlist on    <a href=\"https://music.yandex.ru/users/dmitiy.kniaz/playlists/3\"\r\n                                                                      target=\"_blank\">Yandex music</a> </span>\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default Music;","import React from 'react';\r\nimport c from '../../styles/Settings.module.scss';\r\n\r\nconst Settings = () => {\r\n    return (\r\n        <div className={c.settingsPage}>\r\n            <span>Темная тема</span>\r\n            <span className={c.settingsPage__warning}>This section is under development.</span> <br/>\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default Settings;","import React from \"react\";\r\nimport {Field, reduxForm} from \"redux-form\";\r\nimport {Textarea} from \"../../common/FormsControls/FormsControls\";\r\nimport {maxLengthCreator, requireField} from \"../../../utils/validators/validators\";\r\nimport c from '../../../styles/DialogsForm.module.scss';\r\n\r\n/*const maxLength100 =maxLengthCreator(5);  validate={[requireField, maxLength100]}*/\r\nconst AddMessageForm = (props) => {\r\n    return (\r\n        <form onSubmit={props.handleSubmit}>\r\n            <div>\r\n                <Field className={c.dialogForm} component={Textarea} name={\"newMessageBody\"} placeholder=\"Enter your message\"\r\n                />\r\n            </div>\r\n            <div>\r\n                <button className={c.dialogFormBtn}>Send message</button>\r\n            </div>\r\n        </form>\r\n    )\r\n};\r\n\r\nexport default reduxForm({form:\"dialogsAddMessageForm\"})(AddMessageForm);\r\n","import React, {useEffect} from 'react';\r\nimport styles from '../../../styles/Message.module.scss';\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {getListMessages, sendMessage} from \"../../../Redux/reducers/dialogs-reducer\";\r\nimport DialogsForm from \"../DialogsForm/DialogsForm\";\r\n\r\n\r\nconst Messages = (props) => {\r\n    const messages = useSelector(state => state.dialogsPage.messages);\r\n    const myId = useSelector(state => state.auth.id);\r\n    let {id} = props;\r\n\r\n    const dispatch = useDispatch();\r\n\r\n    useEffect(() => {\r\n        dispatch(getListMessages(id))\r\n    }, [dispatch, id]);\r\n\r\n    const onSubmit = (formData) => {\r\n        dispatch(sendMessage(id, formData))\r\n    };\r\n\r\n    let messageList = messages.map((item, index) => (\r\n        <div key={index} className={item.senderId === myId ? styles.message_right : styles.message_left}>\r\n\r\n            <div>\r\n                <span className={styles.message__item}>{item.body}</span>\r\n            </div>\r\n\r\n            <div>\r\n                <span>{item.addedAt}</span>\r\n            </div>\r\n\r\n            {item.senderId === myId &&\r\n            <div>\r\n                   <span>\r\n                       {item.viewed ? \"прочитано\" : \"не прочитано\"}\r\n                   </span>\r\n            </div>}\r\n\r\n\r\n        </div>\r\n    ));\r\n\r\n    return (\r\n        <div className={styles.messages}>\r\n            <div>\r\n                {messageList}\r\n            </div>\r\n            <div className={styles.textTupe}>\r\n                <DialogsForm onSubmit={onSubmit}/>\r\n            </div>\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default Messages;","import React from 'react';\r\nimport c from '../../../styles/DialogItem.module.scss';\r\nimport {NavLink} from \"react-router-dom\";\r\nimport userPhoto from '../../../assets/images/user.png'\r\n\r\n\r\nconst DialogItem = (props) => {\r\n\r\n    const {startDialog} = props;\r\n    let {id, name, photo} = props;\r\n\r\n    return (\r\n        <div className={c.dialog}>\r\n            <img src={photo ? photo : userPhoto} alt='iconUser'/>\r\n            <div onClick={() => {startDialog(id)}}>\r\n                <NavLink to={\"/dialogs/\" + id}>{name}</NavLink>\r\n            </div>\r\n        </div>\r\n    )\r\n};\r\n\r\n\r\nexport default DialogItem;","import React, {useEffect} from 'react';\r\nimport styles from '../../styles/Dialogs.module.css';\r\nimport Messages from \"./Messages/Messages\";\r\nimport DialogItem from \"./DialogItem/DIalogItem\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {getAllDialogs} from \"../../Redux/reducers/dialogs-reducer\";\r\nimport Preloader from \"../common/Preloader/Preloader\";\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\n\r\nlet Dialogs = (props) => {\r\n\r\n    const listAllDialogs = useSelector(state => state.dialogsPage.listAllDialogs);\r\n\r\n    const {startDialog} = props;\r\n\r\n    const dispatch = useDispatch();\r\n\r\n    useEffect(() => {\r\n        dispatch(getAllDialogs())\r\n    }, [dispatch]);\r\n\r\n    if (listAllDialogs === null) return <Preloader/>;\r\n\r\n    return (\r\n        <div>\r\n            {\r\n                listAllDialogs.length > 0 &&\r\n                <div className={styles.dialogs}>\r\n                    <div className={styles.dialogsItems}>\r\n                        {listAllDialogs.map(user => (\r\n                            <DialogItem name={user.userName} key={user.id} id={user.id} startDialog={startDialog}\r\n                                        photo={user.photos.small}/>))}\r\n                    </div>\r\n\r\n                    <Messages {...listAllDialogs[0]}/>\r\n                </div>\r\n            }\r\n            {\r\n                listAllDialogs.length < 1 &&\r\n                <div className={styles.dialogs}>\r\n                    У вас еще нет начатых диалогов. Нажмите\r\n                    <NavLink to={\"/users\"}>сюда</NavLink>\r\n                    что бы выбрать пользователя\r\n                </div>\r\n            }\r\n        </div>\r\n    )\r\n};\r\n\r\n\r\nexport default Dialogs;","import React from 'react';\r\nimport {addMessage, startDialog} from '../../Redux/reducers/dialogs-reducer';\r\nimport {connect} from \"react-redux\";\r\nimport Dialogs from \"./Dialogs\";\r\nimport {withAuthRedirect} from \"../../hoc/withAuthRedirect\";\r\nimport {compose} from \"redux\";\r\n\r\nconst DialogsContainer = React.memo((props) => {\r\n\r\n    let {dialogsPage, addMessage, startDialog} = props;\r\n\r\n    return <Dialogs dialogsPage={dialogsPage} addMessage={addMessage} startDialog={startDialog}/>\r\n});\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        dialogsPage: state.dialogsPage\r\n    };\r\n};\r\n\r\nexport default compose(connect(mapStateToProps, {addMessage, startDialog}), withAuthRedirect)(DialogsContainer);\r\n\r\n\r\n","import React, {useState} from 'react';\r\nimport c from \"../../../styles/Paginator.module.scss\";\r\n\r\n\r\n\r\nlet Paginator = (props) => {\r\n    let pagesCount = Math.ceil(props.totalItemsCount / props.pageSize);\r\n    let pages = [];\r\n    for (let i = 1; i <= pagesCount; i++) {\r\n        pages.push(i);\r\n    }\r\n\r\n    let portionCount = Math.ceil(pagesCount / props.portionSize); //сколько порций\r\n    let [portionNumber, setPortionNumber] = useState(1);\r\n    let leftPortionPageNumber = (portionNumber - 1) * props.portionSize + 1;\r\n    let rightPortionPageNumber = portionNumber * props.portionSize;\r\n\r\n    return (\r\n        <div className={c.paginator}>\r\n            {portionNumber > 1 &&\r\n            <button className={c.paginator__btn} onClick={() => {setPortionNumber(portionNumber - 1)}}>Less</button>}\r\n\r\n            {pages\r\n                .filter(p => p >= leftPortionPageNumber && p <= rightPortionPageNumber)\r\n                .map(p => {\r\n                    return <span key={p} className={`${c.paginator__page} ${(props.currentPage === p ? c.paginator__selectPage : \"\")}`}\r\n                                 onClick={() => {\r\n                                     props.onPageChanget(p)\r\n                                 }}>{p}</span>\r\n                })}\r\n\r\n            {portionNumber < portionCount &&\r\n            <button className={c.paginator__btn} onClick={() => {setPortionNumber(portionNumber + 1)}}>More</button>}\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default Paginator;","import React, {useState, useEffect} from 'react';\r\nimport c from '../../styles/Users.module.scss';\r\nimport userPhoto from '../../assets/images/user.png'\r\nimport {NavLink} from \"react-router-dom\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {startDialog} from \"../../Redux/reducers/dialogs-reducer\";\r\nimport {Redirect} from \"react-router-dom\";\r\n\r\nlet User = (props) => {\r\n\r\n    const dispatch = useDispatch();\r\n    //const [isRedirect, setIsRedirect] = useState(false);\r\n    let userId = props.user.id;\r\n    let {name, status, photos, followed} = props.user;\r\n    let {followingInProgress, unsubscribe, subscribe} = props;\r\n\r\n    /*const onFulfilled = () => {\r\n        setIsRedirect(true)\r\n    };\r\n\r\n    const onRejected = () => {\r\n        console.log(\"something wrong\")\r\n    };*/\r\n\r\n    const startNewDialog = () => {\r\n        dispatch(startDialog(userId));\r\n    };\r\n\r\n\r\n    return (\r\n        <div className={c.userItem}>\r\n\r\n            <div>\r\n\r\n                <div className={c.userItem__info}>\r\n                    <NavLink to={'/profile/' + userId}>\r\n                        <img src={photos.small != null ? photos.small : userPhoto} alt=\"UserPhoto\"/>\r\n                    </NavLink>\r\n                    <div className={c.userItem__statusName}>\r\n                        <div className={c.userItem__name}>{name}</div>\r\n                        <div className={c.userItem__status}>{status}</div>\r\n                    </div>\r\n                </div>\r\n\r\n                {followed\r\n                    ? <button className={c.userItem__btn} disabled={followingInProgress.some(id => id === userId)}\r\n                              onClick={() => {\r\n                                  unsubscribe(userId);\r\n                              }}>\r\n                        Unsubscribe\r\n                    </button>\r\n                    : <button className={c.userItem__btn} disabled={followingInProgress.some(id => id === userId)}\r\n                              onClick={() => {\r\n                                  subscribe(userId);\r\n                              }}>\r\n                        Subscribe\r\n                    </button>\r\n                }\r\n\r\n            </div>\r\n\r\n            <div>\r\n                <div>\r\n                    <button onClick={startNewDialog}>\r\n                        <NavLink to={'/dialogs'}>\r\n                            Написать\r\n                        </NavLink>\r\n\r\n                    </button>\r\n                </div>\r\n\r\n            </div>\r\n\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default User;","import React from 'react';\r\nimport Paginator from \"../common/Paginator/Paginator\";\r\nimport User from \"./User\";\r\nimport c from '../../styles/Users.module.scss';\r\n\r\n\r\nlet Users = (props) => {\r\n\r\n    let {\r\n        users, followingInProgress, unsubscribe, subscribe, currentPage,\r\n        onPageChanged, totalUsersCount, pageSize, portionSize\r\n    } = props;\r\n\r\n    return (\r\n        <div className={c.usersPage}>\r\n            <Paginator currentPage={currentPage} onPageChanget={onPageChanged} totalItemsCount={totalUsersCount}\r\n                       pageSize={pageSize} portionSize={portionSize}/>\r\n            {users.map(u =>\r\n                <User key={u.id} user={u} followingInProgress={followingInProgress} unsubscribe={unsubscribe}\r\n                      subscribe={subscribe}/>\r\n            )}\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default Users;","export const usersSelectors = {\r\n    getUsersData (state) {\r\n        return state.usersPage.users\r\n    },\r\n    getPageSize (state) {\r\n        return state.usersPage.pageSize\r\n    },\r\n    getTotalUsersCount (state) {\r\n        return state.usersPage.totalUsersCount\r\n    },\r\n    getCurrentPage (state) {\r\n        return state.usersPage.currentPage\r\n    },\r\n    getIsFetching (state) {\r\n        return state.usersPage.isFetching\r\n    },\r\n    getFollowingInProgress (state) {\r\n        return state.usersPage.followingInProgress\r\n    }\r\n};\r\n\r\n","import React from 'react';\r\nimport Users from './Users';\r\nimport {connect} from 'react-redux';\r\nimport {setCurrentPage, getUsers, unsubscribe, subscribe} from '../../Redux/reducers/users-reducer';\r\nimport Preloader from \"../common/Preloader/Preloader\";\r\nimport {usersSelectors} from \"../../Redux/users-selectors\";\r\nimport styles from '../../styles/Users.module.scss';\r\n\r\n\r\nclass UsersContainer extends React.Component {\r\n\r\n    componentDidMount() {\r\n        this.props.getUsers(this.props.currentPage, this.props.pageSize);\r\n    }\r\n\r\n\r\n    onPageChanged = (pageNumber) => {\r\n        this.props.setCurrentPage(pageNumber);\r\n        this.props.getUsers(pageNumber, this.props.pageSize);\r\n    };\r\n\r\n    render() {\r\n\r\n        let {\r\n            isFetching, users, totalUsersCount, pageSize, currentPage, followingInProgress,\r\n            unsubscribe, subscribe, portionSize\r\n        } = this.props;\r\n\r\n        return <>\r\n            {isFetching\r\n                ? <div className={styles.usersPreloader}>\r\n                    <Preloader/>\r\n                </div>\r\n                : null\r\n            }\r\n            <Users users={users} totalUsersCount={totalUsersCount} pageSize={pageSize} currentPage={currentPage}\r\n                   onPageChanged={this.onPageChanged} followingInProgress={followingInProgress}\r\n                   unsubscribe={unsubscribe}\r\n                   subscribe={subscribe} portionSize={portionSize}/>\r\n        </>\r\n    }\r\n}\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        users: usersSelectors.getUsersData(state),\r\n        pageSize: usersSelectors.getPageSize(state),\r\n        totalUsersCount: usersSelectors.getTotalUsersCount(state),\r\n        currentPage: usersSelectors.getCurrentPage(state),\r\n        isFetching: usersSelectors.getIsFetching(state),\r\n        followingInProgress: usersSelectors.getFollowingInProgress(state),\r\n        portionSize: state.usersPage.portionSize\r\n    };\r\n};\r\n\r\nexport default connect(mapStateToProps, {setCurrentPage, getUsers, unsubscribe, subscribe})(UsersContainer);\r\n\r\n","import React from 'react';\r\n\r\n\r\nexport const WithSuspense = (Component) => {  //4  принимает компонету и все предыдущие пропсы\r\n    const AddSuspenseContainer = (props) => { //Component c большой буквы\r\n        return <React.Suspense fallback={<div>Loading...</div>}>\r\n            <Component{...props}/>\r\n        </React.Suspense>\r\n    };\r\n    return AddSuspenseContainer;\r\n};\r\n\r\n\r\n","import React from 'react'; // импортируем модуль из node modules без ./ он добавл во все файлы\r\nimport c from '../../styles/Header.module.scss';\r\nimport {NavLink} from \"react-router-dom\"; // подкл стили; теперь это объект\r\nimport userPhoto from \"../../assets/images/user.png\";\r\nimport logo from \"../../assets/images/logo.svg\";\r\n\r\nconst Header = (props) => {\r\n\r\n    let {logout} = props;\r\n    let {photo, login, isAuth} = props;\r\n\r\n    return (\r\n        <header className={c.header_container}>\r\n            <div className={c.header__content}>\r\n                <div className={c.header__logoData}>\r\n                    <img className={c.header__logo} src={logo}  alt=\"logo\"/>\r\n                    <span className={c.header__name}>Social network</span>\r\n                </div>\r\n                <div className={c.header__UserDara}>\r\n                    {isAuth\r\n                        ? <div className={c.header__select}>\r\n                            {login}\r\n                            <img className={c.header__UserPhoto} src={photo != null ? photo : userPhoto} alt=\"userPhoto\"/>\r\n                            <button className={c.header__btn} onClick={logout}>Log out</button>\r\n                        </div>\r\n                        : <NavLink className={c.header__btn} to={\"/Login\"}>Log in</NavLink>\r\n                    }\r\n                </div>\r\n            </div>\r\n        </header>\r\n    )\r\n};\r\n\r\nexport default Header;","import React from 'react';\r\nimport Header from \"./Header\";\r\nimport {connect} from \"react-redux\";\r\nimport {logout} from \"../../Redux/reducers/auth-reducer\";\r\n\r\nclass HeaderContainer extends React.Component {\r\n    render() {\r\n        return <Header {...this.props}/>\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        isAuth: state.auth.isAuth,\r\n        login: state.auth.login,\r\n        photo: state.auth.photos\r\n    }\r\n};\r\n\r\nexport default connect(mapStateToProps, {logout})(HeaderContainer);","import React from 'react';\r\nimport {Field, reduxForm} from \"redux-form\";\r\nimport {authorizeOnService} from \"../../Redux/reducers/auth-reducer\";\r\nimport {connect} from \"react-redux\";\r\nimport {requireField} from \"../../utils/validators/validators\";\r\nimport {LoginInput} from \"../common/FormsControls/FormsControls\";\r\nimport {Redirect} from \"react-router-dom\";\r\nimport c from '../../styles/Login.module.scss';\r\n\r\nconst LoginForm = ({handleSubmit, error, captcha}) => {\r\n    return (\r\n        <form onSubmit={handleSubmit}>\r\n            {/*Действия: форма вызвала handleSubmit из LoginReduxForm, внутри handleSubmit вызовется то что пришло\r\n             в LoginReduxForm т.е props.onSubmit, и в этот onSubmit придут данные собранные контейнерной компонентой для меня*/}\r\n            {/*handleSubmit сделает 3 действия e.preventDefault, сбор всех данных и все упаковывается в объект и вызывается\r\n            из контейнерной компоненты onSubmit(formData)- что бы сообщить во внейший мир что данные засобмитили из формы*/}\r\n            <div>\r\n                {/*name нужно для того что бы каждый элемент отпралялся под каким то именем, т.е форма- это объект, а name это свойства формы*/}\r\n                <Field className={c.loginForm__input} placeholder={\"login\"} name={\"login\"} component={LoginInput}\r\n                       validate={[requireField]}/>\r\n            </div>\r\n            <div>\r\n                <Field className={c.loginForm__input} placeholder={\"Password\"} name={\"Password\"} component={LoginInput} type=\"password\"\r\n                       validate={[requireField]}/>\r\n            </div>\r\n            <div>\r\n                <Field component={\"input\"} type=\"checkbox\" name={\"rememberMe\"}/> remember\r\n                me\r\n            </div>\r\n\r\n            {captcha && <img src={captcha} alt=\"captcha\"/>}\r\n            {captcha && <Field component={\"input\"} type=\"text\" name={\"captcha\"} validate={[requireField]}/>}\r\n\r\n            {error && <div className={c.loginForm__error}>\r\n                {error}\r\n            </div>}\r\n            <div>\r\n                <button className={c.loginForm__btn}> Log in</button>\r\n            </div>\r\n        </form>\r\n    )\r\n};\r\n\r\nconst LoginReduxForm = reduxForm({form: 'login'})(LoginForm);\r\n\r\nconst Login = (props) => {\r\n\r\n    let {isAuth, captcha} = props;\r\n    let {authorizeOnService} = props;\r\n\r\n    const onSubmit = (formData) => {\r\n        authorizeOnService(formData)\r\n    };\r\n\r\n    if (isAuth) {\r\n        return <Redirect to={\"/profile\"}/>\r\n    }\r\n    return (\r\n        <div className={c.loginPage}>\r\n            <div className={c.loginPage__item}>\r\n                <h1 className={c.loginPage__title}>Log in</h1>\r\n                <LoginReduxForm onSubmit={onSubmit} captcha={captcha}/>\r\n            </div>\r\n            <div className={c.loginPage__item}>\r\n                <div className={c.loginPage__text}>\r\n                    Если вы хотетите посетить данное приложение и посмотреть как все работает\r\n                    введитите: <br/>\r\n                    <span className={c.loginPage__data}> Email: free@samuraijs.com </span><br/>\r\n                    <span className={c.loginPage__data}>  Password: free</span><br/>\r\n                    Это тестовый аккаунт.\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n\r\n};\r\nconst mapStateToProps = (state) => {\r\n    return ({\r\n        isAuth: state.auth.isAuth,\r\n        captcha: state.auth.captcha\r\n    })\r\n};\r\nexport default connect(mapStateToProps, {authorizeOnService})(Login);","import React from 'react';\r\nimport c from './styles/App.module.scss';\r\nimport {HashRouter, Route, Switch, withRouter, Redirect} from \"react-router-dom\";\r\nimport {connect, Provider} from \"react-redux\";\r\nimport {compose} from \"redux\";\r\nimport store from \"./Redux/redux-store\";\r\nimport Navbar from './components/Navbar/Navbar';\r\nimport Music from \"./components/Music/Music\";\r\nimport Settings from \"./components/Settings/Settings\";\r\nimport DialogsContainer from \"./components/Dialogs/DIalogsContainer\";\r\nimport UsersContainer from \"./components/Users/UsersContainer\";\r\nimport {WithSuspense} from \"./hoc/withSuspense\";\r\nimport HeaderContainer from \"./components/Header/HeaderContainer\";\r\nimport Login from \"./components/Login/Login\";\r\nimport {initializeApp} from \"./Redux/reducers/app-reducer\";\r\nimport Preloader from \"./components/common/Preloader/Preloader\";\r\n\r\nconst News = React.lazy(() => import (\"./components/News/News\"));\r\nconst ProfileContainer = React.lazy(() => import (\"./components/Profile/ProfileContainer\"));\r\n\r\nclass App extends React.Component {\r\n\r\n    catchAllErrors = (promiseRejectionEvent) => {\r\n        console.log(promiseRejectionEvent)\r\n    };\r\n\r\n    componentDidMount() {\r\n        this.props.initializeApp();\r\n        window.addEventListener('unhandledrejection',  this.catchAllErrors)\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        window.removeEventListener('unhandledrejection',  this.catchAllErrors)\r\n    }\r\n\r\n    render() {\r\n\r\n        if (!this.props.initialized) {\r\n            return (\r\n                <div className={c.app_preloader}>\r\n                    <Preloader/>\r\n                </div>\r\n            )\r\n        }\r\n\r\n        return (\r\n            <div className=\"app-wrapper\">\r\n                <HeaderContainer/>\r\n\r\n                <main className={c.page_Main}>\r\n\r\n                    <div className={c.navBar}>\r\n                        <Navbar state={this.props.state.sideBar}/>\r\n                    </div>\r\n\r\n                    <div className={c.content}>\r\n                        <Switch>\r\n                            <Route exact path='/' render={() => <Redirect to ={'/profile'}/> }/>\r\n                            <Route path='/login' render={() => <Login/>}/>\r\n                            <Route path='/profile/:userId?' render={WithSuspense(ProfileContainer)}/>\r\n                            <Route path='/dialogs' render={() => <DialogsContainer/>}/>\r\n                            <Route path='/users' render={() => <UsersContainer/>}/>\r\n                            <Route path='/news' render={WithSuspense(News)}/>\r\n                            <Route path='/music' render={() => <Music/>}/>\r\n                            <Route path='/settings' render={() => <Settings/>}/>\r\n                            <Route path='*' render={() => <div>404 NOT FOUND</div>}/>\r\n                        </Switch>\r\n                    </div>\r\n\r\n                </main>\r\n\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return ({\r\n        initialized: state.app.initialized\r\n    })\r\n};\r\n\r\nconst AppContainer = compose(\r\n    withRouter,\r\n    connect(mapStateToProps, {initializeApp}))\r\n(App);\r\n\r\nconst SocialNetworkApp = () => {\r\n    return (\r\n        //HashRouter использую для того что бы все нормально работало в github\r\n        <HashRouter>\r\n            <Provider store={store}>\r\n                <AppContainer state={store.getState()} dispatch={store.dispatch.bind(store)}/>\r\n            </Provider>\r\n        </HashRouter>);\r\n};\r\n\r\nexport default SocialNetworkApp;\r\n","import * as serviceWorker from './utils/serviceWorker';\r\nimport React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './styles/index.css';\r\nimport SocialNetworkApp from './App'\r\n\r\nReactDOM.render(<SocialNetworkApp/>, document.getElementById('root'));\r\n\r\nserviceWorker.unregister();\r\n","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQAAAAEACAMAAABrrFhUAAAACXBIWXMAAAsTAAALEwEAmpwYAAADAFBMVEVHcExPkv9Pkv9Pkv9Pkv9Pkv9Fhv9Pkv9KjP9Ji/9Pkv9Pkv9Pkv9HiP9Pkv9KjP9Pkv9Pkv9Pkv9Nj/9Pkv9Pkv9Pkv9Pkv9Pkv9Pkv8wa/9Pkv9Pkv9KjP9Pkv9Pkv9Pkv9Pkv9Jiv9Pkv9Pkv8wa/9Pkv8wa/8wa/9Pkv9Pkv9Pkv9Pkv9Pkv9Pkv9Pkv9Pkv9Pkv9Pkv8wa/9Pkv9Pkv8wa/8wa/8wa/9Pkv9Fhv8wa/9Pkv8wa/9Pkv8wa/8wa/8wa/8wa/9OkPtPkv8wa/8wa/9Pkv9Pkv8wa/8wa/8wa/8wa/8wa/9Pkv8wa/8wa/9Pkv9Pkv8wa/9Pkv8wa/86eP86d/9Pkv8wa/8lJUb50qD2vY7////zsY350aBNkP/2v5BUS1pLRFb//v750J4vLUr0vI9Gh/+eh3kzbv9Cgf/1upIxbP9jmPP3xJVLjv/4y5v0t5D2vpM0cf/63cPhv5bbx7L10aI5d/8qKUhEhf8oL1f1+P8mJ0o0TYqlv//2z586NU5Kh+wmKU0+Z7f0zp5eUl1IgOErNWFYlvonK1H6+//3xZknJkeSfXTyzZ3xz6U7ev+/vcFEdtE2UpMxRHwuPW+kjXxOj/v3wJT86NZunu48Yq761rlJg+W8rrb0tI8+ff/4zZz4yZnuzqc4WJ06XKTluZrJsa3CpYhMivLtu5Syt8jrxprvypxFev/E1f9Sk/3HwL3W4f/++/eMrf94nv/1y5zYt5IsOWiYrdfpzKmxl4FCc8pgmPZHiv9FedWVgHZQSFgqMVtAbL797NxpXGNAO1G8oYb85M7+9e2fsNN2Z2hIf99Ad/9onPIzSINGe9lwmf+epsqEp//ttotOjvmBn92WpdD4y6WIdXD98OaRsf+Hp+BMjPRGQFSZhHfi6v9CeP/nw5jx9f9OgP/X4/92oep5ougvQHVyn+zKt7P73b2cpsvJq4y9k3r50K6JodirhnRmWmKHbGjg6f/62a751aXPr45Sg/+stcvfrIbVpYO5usTZ5P91S7B5AAAAWHRSTlMA9IIm+9MJ/gEFxemnF2ERS7WHA6TwSG3VNfkxZR90XUIsHL97d9dJX1v5y2mMVvaPsN6NDdzW7KnPRf6T3XhpuTIo9j7Sl37hoMLex8ZPPVHfncXdhfv7TQXv3QAAEPxJREFUeNrknXlMVNcexy8wMMwMAoOgY0AWMSQgChj9w8T4l0n7l0mb/nHm3gFcChSVQdCKC4WyKCBPFlHc44YrKq12iWsr1efytLHGuMSmT/t8SdXYNl3Svrwlb4ZhYJY7986d+z137uj3P8Jdfr/PnOV3fufccxhGYUVFxMemJrxdoDe9Y0jKIzblJRneMekL3p6aGhufEcW8sopKzk6I0RuIiAz6mITs5FeMw4y5qTEmDZEgTVZM6twZr4TzY6bNniXJdxcKs2ZPGxPapT4+30RkypQfH6L1YVKuMY9AlGfMnRRq3k9M1WsJUFp96sTQ8T4uF+u9k0FuXCh4H50ek0MoKScmPVrtbf6cmYSqZs5Rc7+QnKgh1KVJTFZp2Y/PJAopM159NUEXayJapQBoiSlWpy73U94iCuutFPUgiM6eSYKgmdkqqQjjIkmQFDlOBe5HGEkQZYwIdtA3NYcEVTlTgxkeRqcYSNBlSAlaUxCRSVShzODUg7GT84hKlDd5bBDC3kiiIkVOUPrnD9cQVUkTrmghiJhCVKcpCrYEaWFEhQqLVSrJnUhUqkRFEukRWUS1ylKgGkwLIypW2DTarX+Clqha2gSqvcEMI1G9jBQbgomRJAQUSW0GYYIhFPwnWgOlsHBcGAkRhVFJlKRpSMhIk4b3f7yWhJC049H+TyYhpslY/8NJyCkc6X8CCUElvNa/P7QMvEFCVG+A2n8SsoL0Bdna0AWgzQbEfzkkhJUzT3b8H0ZCWmEyxwWTDCTEZZC1wm5GJAl5RcrID0QXkFdABWNftwAIFhDFU+kAt99Zd6h3a207y7J1tW1be7ccvnKpif/Spiv1bZcAnWF8gPnvJLz3mw9trWN5VNf2vP7Quot39vRvt13V39+62Uap1v6fbwBvTQooWx4FbwAv1rezktV8H9EQBrLgHDz/03Solg1IlxBvT5TufyzU/TvfdLABah3EAMnzhhHICPBOLxu4dmMiQonNgA44/72nnpWjwxgrpuiCFAHcP1wny39QCZAYDUyApcA3t7EydQWVKpcwLNKhesD7W1jZuoj6LUw6xSvA123y/We/Vj4kzgBVgHXNAP/rtsMAaDL8HAPqMTE/oPjbtBXYHev9W1OaAnlZ/3OI/x27gQBIil/rnyFJoKazLEZ7oOkhf1ZW5yPe1HoZ5H9HG5RAvh8xMKIFbK1lYWq/CASgEY+IjSrzHxcMD8koOg2AqP+XWax6/44jILJ4JBoQA/a3sWidbcIliYW7wjRA/7+VxasWFw8Krp7RTZf/gnqWhtovoQBM19GNgdaxdNS8WYFoaKz8AtDazKqdwPSxFPOA28+y1NSMqgU+84PRJtnP3s1SVDuoJTRFU4sBmpppAmAvg3pDX7GA/M8At7B0dfY+BECmjw/h5Od/6ygDYOsxRSCZ0lRQPUtdmGkS3omiMbKHgU119AE0Q0bHGr6dWObIfuxhVgFhUmRzePpA2btAbK9VAgBmomSmd0+YLvuhFxXxn22H9IXpXgBiQqEJxPUEMV6pUPnrIWsVAsC2AgDkeKZHc+XPAirlP2TVDMn1ACB/MuSQYgAgRcAjGpwof0HYc+UAbAEA0LqHAqnyn9isHIB2RJJ0PLgGtLIKChEQ693WRMuvAVeUBNCLqAOToH2AMnHwyJx5P7gfACyKrlcSAGTdTIFLNhywJq5XUQCIfiBMBxwHEILPhl4VWFvZhh0PTAU8DT0fyF5ruN7o+7+IRmDqCADEorB2NIAnHLfyK5//RUwSRI7kghDlCR0HlZ7kOK7rFtWsgDMYnIZ4GLoAdHJD2raGf+EIohUkzi1nZqsQQOOAAwD3UyO9EeHsYQCzVAjgAufU0xZqqcFZw9/GadQH4Co3qoZHfJNEkOSw44u6uURtADpKn3KuulDqvWICYnQ6aiiMLgHXOXedeew1IoYYnQpKh6IBdHKeGrjqeQ3EaEdqNEttAH5r8ALAFQ92UACQNfR5nEZlABYOcHw61ogHoImCTApjASw6yfHLPTDGTRNnYwE8kfv7+/Kf49bfggNIw22R4zSMG5Tlf8sAJyCXwBhjdQKsExgFwG3rCNz/W12coP51DQsgBhUIuwLwbK4kBEDlnJhOYgHYg+EkOABu5cLAUiA/ceLCAkhimDiCB8A1DK4JoPgPcIoDIHFMBg0AtuC1RaL7j49xXBAAZDDxdABw3PVFUvI/g+u5oACIh30m7wWAa7jgL4LSRyc5LjgAYmE7JXoDsAXwx37zo0ts7HzKccECMBmTD/MBwN4hDAoXg46WCw0cFzwA+ag4yBcAe3s42OKjT1jTsu0pJ1FgAImMkToA+3D+WOfVa+614drVzmNdnHSBARgZvRIAhtR15vqFJ52PHg0+2Xb9zAAXoMAA9EykYgBsjWIxJ1tgAJHMmwoCQAgM4E3G8HoDMKDGQnYAjb///J97tAHc++/PvzfiACQxqP2C2MZfyyw20QZgf0fZr40oAGEM6EGk5Z7FohQAi+VeC8puFICHZRYlAVjKHqoLwAOn/z4ArC9fWFq6cJtfQ7712+zXlq8XBGApe6AmANbjFkEAK4cHBItWivsvcu3Ii45bMQAgjeBeiyCArpEB0Vei0W/XSPZ/UZcgAMteTCOI6AatZcIAykeHAKJpT7FrR99UZoV0g4hA6EeLMACXHOlCMQBi17q86kdIIIQIhY+KAHAZDa8RAyB2rcurjkJCYcRg6Ij/AEolACgVAXAEMhhCDIfLglMFyiDDYaMCAOg0ghAARkhKTKwKdD0W7tr4u8zHXQpUgURIUlSsEaQSCGEawXxIWvyuGIDirnKh8JYvbC7v4sQA3IWkxRETI1YxAPjBkF2IQCgWMzW2NxgAIKFwPGZyVGwwRAMAZjCUAZoe/0V5AL9ADI9DLZB4qDQATEIkCbdE5sFxJQEcB6VDZuEWSRHrXsUAlO21goyOgZ4kZ7179EgZbQBlR47etcJMTsBsIegq2gCw1qbhlsqGJgD7Utko7esLYGixNJMVSgBWQY3NAn4w4VQ3XQAHocbGAD+Zceo8Vf+Lz0ONTQV+NOVUDd0SUAM1dq7jRCXokYqn6QI4jbQ1Jwq1gYiLTgQQ10u45QTSVj3w6/kRnZPgTaXD/0oJt5xD2ur8fn4e8qHPJHhT4gBQIuGWZ0hb5yE/n3dqg5QaXWIrA5VS/C/egLR1DHIDBWW6AWgnEAndQiOgVlCyTtBoAjCbqIzoO5oAvkNamg7dRme0EVhFcSSAbAJcttFhoKfLng6RMKgAu5WWInUAWgNysZupjerUQSEfDlTv2+jrfxv3VR8QHAqeAprptpkaNhr+t5ATS4uKiqr4/1Vl+9dSxeNgBj8ktq4SAVDNG/uUVIsAWHUbaeV49JaaLuoR8KKvyO4mz4cDxXY0vgrHkHqQNnpsqYmtA7eFisDyIQJeZaBkyP8dihWATPi2uq76n1A4by/pRdUeP3VVta+SQacF8NpWNw6aFflCKDM4VNeLipa7NPgHhoqFj7ZhWN1fQHMhcfittV11U3AMOFTabb93ZVVJcXFJVaXzb8Fx4U0K6VDs5upusYDgmLB4RxGPdgh+UlVzCmpgOoXt9f1vB51V3lXVVcKjgF1Q83i21wccsCApNda31NX9pX0il2MrAN8BC4AjNvwPBhxNwcbl1fuKivZVL98olhQqPo21jfeIDcAhK+7DYmBqqGYD1rZESsfsePSFsEmi87fBpiXTOmjJXS8OYvzvfgE2LJPicZtu+gEyU9r9A9qucfQOW/MkACgD3c/QVvk8bA22n8iodsluB87vghsVS/PARa/cgMy+oMYKN0nozM0U+NvIhh45/vdswFuUQvnQVe+YMOA8+apzFMwRPHQVvWZuuCEIsBrU7KJhTRr1g5d5xoY3AygE3TdP0bBF5OBlfCww3BZKbgl6rHQsGafE4eu89aDnTylTQC8omSF6+DoToaHx3vlrN3326Q0/Efz58m+fbVo7n4YdmghRAEw+Be9XV5jNnxQWvvvXP8Td/2Pnp4WFn5jNFaspMMgX95+JM2Df+eUmm/dm8z8KbQAKC1/2CY79S/peFg7pI/s9FZu+xNpiiPMDADQamr9khdmhzx2OvW+xLKis4p8ZqqpcYLG877ju8+HbVixBFoMUf/xnomGTJMv2LzY79eEIALsWVFb2VR0osadBi0tKDlT1Vdqdt2sYwIcjNy7evwxljz7aLwBMBqYdXOYo+8P62A2Abw0D+Njl1opNGASaDMZPhSMK/35X983m76UB+N7t5or9iIqQ4K//jM4kv+67u282fyANwAcet1fIbwtMOr8BMBNkVoL3Vpg9VSgNQKHXA1a8J7MCTGAkKFxe5TebfQG4IQbghuO6v/A8Ql5TEC7Ff0Y3JfA3rV3MY/xwFXh3pxiAnQ4A/+R7xuIlgVs1RScJABMR6Mq5+avNvBpuBL8VA/AtXyM4otWBtgRhEYxE/b+bs2lJJQrj+GOWJmLdsosoiBRNMxC0UXRAxBeIyF4hupdZCFdwIXORgtxECH0A+wIFLvoEBWXbu2rTokW4kVpdqnWbFndzb9d0zJd5OTNnZo79tkcez//xeTtnVJX3g3m+/85bbTC3J61/L9fbBjuCQGUlGANkVD0v/8mJ0RyEMi/SDnjJdA9C3ahKgyl0/WAbwRb+H0bhzImiEiCMwnjSYMSmwgFgRf1d+W5RfNeNw1AjB46k9B81M+D9MCRCEbUbfLWCKtbRvjr2i+ekuFDSCJtN8P9xWAIe7ZBoXweVIE0D+YLkprlqKwTq4vrrrQCoStsq5PWbADoelCDcjx3I6Oduy01xN8di+o9vmi8p38oYKxwg3IK5VTsAQooL4QEnS6sPZK5F9GevM7I9QECxB0ZCoAG/E5t+7qwkeCDbdwQQ9JfOOGwecPpBE14Ljvx/56ElMHPfpxUc3QvLD0qsKasDFi9oZH0Yl36OfxYkXla69VcuhcVnXpG5goJeMLwOmgnINsNdZfo57klIgrdSWPmQB9nKTXul9KTQHC87D9gDgAGP3PxX5JRylxNk5jKXJ5X6Tja7U6+ctD/9t4U7xeaKcjOhB7CwJP0u+5xyahlZagjm9qV3tgSYkByITjkUajlp+bkakrlTfQagHiT+aifPoXFXktJfukM0l8dxB6olBnZ5xB1zT8/i+v/+QbUmXgiHACuzGApAa88P5f7yyw88ujWxMjALmPHY0S5AJGfCwz55UDo8U2Ws7wWJ3QPYCQxrmAB6TkbVi075F9VblaYKfZJgOAA68MWCIwHaNyRXh+evj+Xy4+v54dVvDYZ6k8DyBXTB69TYAXSiuxM4vaAT/q7TcZEMBxS7zr9+0I3QhPYKqAMddXAiBDrinmw3gx88KQ7g22cC+6Qb9GXBQlwAfAgBywLozvQcaQHQDoG5aTCA0BRpAdAKgakQGMOYhZwW0G4EljEwDOs8KTNAexaYt4KBOIa+keWA70MOMJbkIkn6F5NgOA7KR4p8H+UAM0ilydCfToFJjMYj5suPxEfBPMaDJueBLzgO5pJKmKk/kQLzoU3rB4s0EIGbiZkhP8a4gRQczIrR8lcYB5CEgwkbKT9MmPxGT6QNK4cJehSIJLlsQFP0LSeBXFyUzvUwRrmAcGhWtzDwsaTGftd4GN+K4lcf3Yq7YDB4+5T81CpWH0RXKT8MGDPxBKZc8CXiMzCQhOig5ukgHKRDMLiMgmszuKYyEnyrwU1XI6MGHdsGxYaRakI0zFIbNvhU2JLMNrsme4MSWWO3meQn097hhxTNUMFlNh2ORSJvURH1RSIrsXCaXQ5SDJ0yXPk/NHqQUwRgafgAAAAASUVORK5CYII=\"","export const actions = {\r\n    //app actions\r\n    SET_INITIALIZED_SUCCESS: \"social_network/app/SET_INITIALIZED_SUCCESS\",\r\n\r\n    //auth actions\r\n    SET_USER_DATA: \"social_network/auth/SET_USER_DATA\",\r\n    GET_CAPTCHA: \"social_network/auth/GET-CAPTCHA\",\r\n    SET_USER_PHOTO: \"social_network/auth/SET_USER_PHOTO\",\r\n    AUTHORIZE_ON_SERVICE: \"social_network/auth/AUTHORIZE_ON_SERVICE\",\r\n\r\n    //dialogs actions\r\n    ADD_MESSAGE: \"social_network/dialogs/ADD-MESSAGE\",\r\n    ADD_ALL_DIALOGS: \"social_network/dialogs/ADD-ALL-DIALOGS\",\r\n    GET_LIST_MESSAGES: \"social_network/dialogs/GET-LIST-MESSAGES\",\r\n\r\n    //profile actions\r\n    ADD_POST: \"social_network/profile/ADD-POST\",\r\n    SET_USER_PROFILE: 'social_network/profile/SET_USER_PROFILE',\r\n    ADD_USER_STATUS: \"social_network/profile/ADD_USER_STATUS\",\r\n    SAVE_PHOTO_SUCCESS: \"social_network/profile/SAVE-PHOTO-SUCCESS\",\r\n\r\n    //users actions\r\n    SUBSCRIBE: \"social_network/users/SUBSCRIBE\",\r\n    UNSUBSCRIBE: 'social_network/users/UNSUBSCRIBE',\r\n    SET_USERS: \"social_network/users/SET_USERS\",\r\n    SET_CURRENT_PAGE: \"social_network/users/SET_CURRENT_PAGE\",\r\n    SET_TOTAL_USERS_COUNT: \"social_network/users/SET_TOTAL_USERS_COUNT\",\r\n    TOGGLE_IS_FETCHING: \"social_network/users/TOGGLE_IS_FETCHING\",\r\n    TOGGLE_IS_FOLLOWING_PROGRESS: \"social_network/users/TOGGLE_IS_FOLLOWING_PROGRESS\",\r\n\r\n};","import React from 'react';\r\nimport preloader from './../../../assets/images/preloader.svg'\r\nimport c from '../../../styles/Preloader.module.scss';\r\n\r\nlet Preloader= (props) => {\r\n    return <img className={c.preloader} src={preloader}/>\r\n};\r\n\r\nexport default  Preloader;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"messages\":\"Message_messages__UJvEP\",\"message\":\"Message_message__1f_8u\",\"message_left\":\"Message_message_left__3sGJs\",\"message_right\":\"Message_message_right__3Xn1h\",\"message__item\":\"Message_message__item__3h5Nc\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"paginator\":\"Paginator_paginator__11-7t\",\"paginator__page\":\"Paginator_paginator__page__2cp68\",\"paginator__selectPage\":\"Paginator_paginator__selectPage__389EW\",\"paginator__btn\":\"Paginator_paginator__btn__whPQh\"};","import React from 'react';\r\nimport c from '../../../styles/FormsControls.module.scss';\r\n//в mata хранятся данные типа error, touched или warning, это данные о состоянии поля, введена ли инфа, тронуто ли поле юзером\r\nexport const Textarea = ({input, meta, ...props}) => { //rest оператор\r\n    return (\r\n        <div>\r\n            <div>\r\n                <textarea   {...input}{...props}/>\r\n            </div>\r\n            {meta.error && meta.touched && <span>{meta.error}</span>} {/*если элемент был тронут и  meta.error - true то вылезает спан*/}\r\n        </div>\r\n    )\r\n};\r\n\r\nexport const LoginInput = ({input, meta, ...props}) => { //rest оператор\r\n    return (\r\n        <div>\r\n            <div>\r\n                <input {...input}{...props}/>\r\n            </div>\r\n            {meta.error && meta.touched && <span>{meta.error}</span>} {/*если элемент был тронут и  meta.error - true то вылезает спан*/}\r\n        </div>\r\n    )\r\n};","/*Validator Это функция, которая получает value и возвращает, если есть ошибка, error message, если ошибки нет, то undefined\r\n* Далее на Fild в форме вещается validate={requireField} и в него закидываются все валидаторы, которые нужны для конкретного\r\n* поля ввода*/\r\n/*Замыкание - функция, которая возвращает другую функцию, и эта другая функция имеет доступ к данным родительской функции*/\r\n\r\nexport const requireField = value => {\r\n    if(value) return undefined;\r\n    return \"Field is required\";\r\n};\r\n\r\nexport const maxLengthCreator = (maxLength) => (value) => {  //функция которая возвращает другую функцию\r\n    if(value.length > maxLength) return `Max length is ${maxLength} symbols`;\r\n    return undefined;\r\n};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"app-wrapper\":\"App_app-wrapper__7x2bZ\",\"page_Main\":\"App_page_Main__3BfFy\",\"app_preloader\":\"App_app_preloader__SXI1C\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialogs\":\"Dialogs_dialogs__1mjKJ\",\"dialogsItems\":\"Dialogs_dialogsItems__3Jj-z\",\"messages\":\"Dialogs_messages__3R5Vz\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"friendsItem\":\"FriendsSiteBar_friendsItem__kmlL5\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"musicPage\":\"Music_musicPage__Sfntc\",\"musicPage__warning\":\"Music_musicPage__warning__Ma79L\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"settingsPage\":\"Settings_settingsPage__1J0o5\",\"settingsPage__warning\":\"Settings_settingsPage__warning__2jtJR\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialogForm\":\"DialogsForm_dialogForm__3os41\",\"dialogFormBtn\":\"DialogsForm_dialogFormBtn__11Qzs\"};"],"sourceRoot":""}