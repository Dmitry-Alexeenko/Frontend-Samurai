{"version":3,"sources":["components/Navbar/Navbar.module.scss","hoc/withAuthRedirect.js","api/api.js","components/Music/Music.module.css","components/Settings/Settings.module.css","components/Dialogs/DialogItem/DialogItem.module.css","components/common/Paginator/Paginator.module.scss","components/Users/Users.module.css","assets/images/preloader.svg","assets/images/logo.svg","components/Header/Header.module.scss","serviceWorker.js","Redux/dialogs-reducer.js","Redux/sidebar-reducer.js","utils/object-helpers.js","Redux/users-reducer.js","Redux/auth-reducer.js","Redux/app-reducer.js","Redux/redux-store.js","components/Navbar/FriendsSiteBar/FriendsSiteBar.jsx","components/Navbar/Navbar.jsx","components/Music/Music.jsx","components/Settings/Settings.jsx","components/Dialogs/Message/Message.jsx","components/Dialogs/DialogItem/DIalogItem.jsx","components/Dialogs/DialogsForm/DialogsForm.jsx","components/Dialogs/Dialogs.jsx","components/Dialogs/DIalogsContainer.jsx","components/common/Paginator/Paginator.jsx","components/Users/User.jsx","components/Users/Users.jsx","Redux/users-selectors.js","components/Users/UsersContainer.jsx","hoc/withSuspense.js","components/Header/Header.jsx","components/Header/HeaderContainer.jsx","components/Login/Login.jsx","App.js","index.js","components/common/FormsControls/FormsControls.module.scss","assets/images/user.png","utils/validators/validators.js","components/common/FormsControls/FormsControls.jsx","components/Dialogs/Dialogs.module.css","components/common/Preloader/Preloader.js","App.module.scss","components/Navbar/FriendsSiteBar/FriendsSiteBar.module.css","Redux/profile-reducer.js"],"names":["module","exports","mapStateToPropsForRedirect","state","isAuth","auth","withAuthRedirect","Component","RedirectComponent","this","props","to","React","connect","instance","axios","baseURL","withCredentials","headers","userAPI","getUsers","currentPage","pageSize","get","unfollowAtUser","id","delete","followAtUser","post","profileAPI","getUserProfile","userId","getUserStatus","updeteStatus","status","put","headerAPI","getUserLogin","getUserLoginPhoto","then","response","data","photos","authorizeOnService","authorizeData","email","login","password","Password","rememberMe","captcha","logout","Boolean","window","location","hostname","match","ADD_MESSAGE","initialState","messages","message","users","name","dialogsReducer","action","type","formData","newMessageBody","user","sidebarReducer","updateObjectInArray","items","itemId","objPropName","newObjProps","map","u","FOLLOW","UNFOLLOW","SET_USERS","SET_CURRENT_PAGE","SET_TOTAL_USERS_COUNT","TOGGLE_IS_FETCHING","totalUsersCount","isFetching","followingInProgress","portionSize","follow","unFollow","toggleIsFetching","setToggleFollowingProgress","followUnfollowFlow","dispatch","apiMethod","actionCreator","a","resultCode","usersReducer","followed","pageNumber","totalCount","filter","SET_USER_DATA","SET_USER_PHOTO","setAuthUserData","setAuthUserThunkCreator","photo","small","authReducer","initialized","appReducer","reducers","combineReducers","profilePage","profileReducer","dialogsPage","sideBar","usersPage","form","formReducer","app","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunkMiddleware","__store__","FriendsSiteBar","className","c","friendsItem","src","logo","activeClassName","active","Navbar","friendsItems","key","navBar","navBar__item","navBar__friends","navBar__friendsItems","Music","wrapper","Settings","Message","content","DialogItem","dialog","maxLength100","maxLengthCreator","reduxForm","onSubmit","handleSubmit","Field","component","Textarea","placeholder","validate","requireField","Dialogs","dialogs","dialogsItems","m","textTupe","DialogsForm","addMessage","DialogsContainer","Paginator","pagesCount","Math","ceil","totalItemsCount","pages","i","push","portionCount","useState","portionNumber","setPortionNumber","leftPortionPageNumber","rightPortionPageNumber","onClick","p","selectPage","onPageChanget","User","userPhoto","disabled","some","unfollowCreator","followThunkCreator","Users","getPageSize","getTotalUsersCount","getCurrentPage","getIsFetching","getFollowingInProgress","UsersContainer","createSelector","setCurrentPage","getUsersThunkCreator","Preloader","bind","WithSuspense","Suspense","fallback","Header","header_container","header__content","header__logoData","header__logo","header__name","header__UserDara","header__select","header__UserPhoto","alt","header__btn","logoutThunkCreator","HeaderContainer","LoginReduxForm","error","LoginInput","loginError","authorizeOnServiceThunkCreator","length","stopSubmit","_error","Redirect","console","log","News","lazy","ProfileContainer","App","initializeAppThunkCreator","page_Main","path","render","AppContainer","withRouter","promise","Promise","all","SocialNetworkApp","getState","ReactDOM","document","getElementById","navigator","serviceWorker","ready","registration","unregister","value","maxLength","input","meta","formControl","touched","preloader","ADD_POST","SET_USER_PROFILE","ADD_USER_STATUS","posts","likesCount","profile","addPostCreator","addUserStatus","UserProfileThunkCreator","UserStatusThunkCreator","UpdateUserStatusThunkCreator","newPostText"],"mappings":"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","file":"static/js/main.7d8856f6.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"navBar\":\"Navbar_navBar__8l4cZ\",\"navBar__item\":\"Navbar_navBar__item__17lx_\",\"active\":\"Navbar_active__1pXni\",\"navBar__friendsItems\":\"Navbar_navBar__friendsItems__3zwys\",\"navBar__friends\":\"Navbar_navBar__friends__1GE3d\"};","import React from 'react';\r\nimport {Redirect} from \"react-router-dom\";\r\nimport {connect} from \"react-redux\";\r\n\r\nlet mapStateToPropsForRedirect = (state) => {\r\n    return {\r\n        isAuth: state.auth.isAuth\r\n    }\r\n};\r\n\r\nexport const  withAuthRedirect = (Component) => {  //4  принимает компонету и все предыдущие пропсы\r\n    class RedirectComponent extends React.Component { //Component c большой буквы\r\n        render() {\r\n            if (!this.props.isAuth) return <Redirect to={\"/login\"}/>;\r\n            return <Component{...this.props}/>\r\n        }\r\n    }\r\n\r\n    /*5)    создаем  еще одну контейнерную компоненту что бы взять данные(через  пропсы) из  стейта и все предыдущие пропсы, и вставляем в нее RedirectComponent*/\r\n    let ConnectedAuthRedirectComponent = connect(mapStateToPropsForRedirect)(RedirectComponent);\r\n\r\n    return ConnectedAuthRedirectComponent;\r\n\r\n};","import * as axios from \"axios/index\";\r\n\r\nconst instance = axios.create(  //настраиваю axios\r\n    {\r\n        baseURL: \"https://social-network.samuraijs.com/api/1.0/\",\r\n        withCredentials: true, //благодаря этому true кука цепляется //добавляем элементы, еоторые нам нужны\r\n        headers: {  //все запросы кроме гет требуют обязат ключа доступа. с каждым запросом на сервак отправляются и возвращ заголовки\r\n            \"API-KEY\": \"a3b59b28-fda3-496d-8604-62213f44ac80\" //значение ключа который я взял с API\r\n        }\r\n    }\r\n);\r\n\r\nexport const userAPI = {\r\n    getUsers(currentPage = 1, pageSize = 10) { //возврашает промис. axios меняем на instance и все что надо уже лежит там*/\r\n        return instance.get(`users?page=${currentPage}&count=${pageSize}`)\r\n    },\r\n    unfollowAtUser(id) { //возврашает промис\r\n        return (/*тут withCredentials как и в get запроса  передаем 2-м параметром*/\r\n            instance.delete(`follow/${id}`)\r\n        )\r\n    },\r\n    followAtUser(id) { //возврашает промис\r\n        return (/*тут withCredentials в отличии от get запроса ты передаем 3-м параметром*/\r\n            instance.post(`follow/${id}`, {})\r\n        )\r\n    }\r\n};\r\n\r\nexport const profileAPI = {\r\n    getUserProfile(userId) { //возврашает промис\r\n        return (\r\n            instance.get(`profile/` + userId)\r\n        )\r\n    },\r\n    getUserStatus(userId) { //возврашает промис\r\n        return (\r\n            instance.get(`/profile/status/` + userId)\r\n        )\r\n    },\r\n    updeteStatus(status) {\r\n        return (\r\n            instance.put(`/profile/status`, {status: status}))\r\n    }\r\n};\r\n\r\nexport const headerAPI = {\r\n    getUserLogin() {\r\n        return (\r\n            instance.get(`auth/me`)\r\n        )\r\n        /*если кросдоменные запросы, то браузер не отправляет куку автоматически\r\n        * поэтому вторым параметром передаем withCredentials и если сервак поддерживает то на него уйдет запрос*/\r\n    },\r\n    getUserLoginPhoto(id) {\r\n        return (\r\n            instance.get(`profile/` + id).then(response => response.data.photos)\r\n        )\r\n    },\r\n    authorizeOnService(authorizeData) {\r\n        let email = authorizeData.login;\r\n        let password = authorizeData.Password;\r\n        let rememberMe = authorizeData.rememberMe;\r\n        let captcha = true;\r\n        return (\r\n            instance.post(`auth/login`,{email:email,  password:password,  rememberMe:rememberMe, captcha:captcha})\r\n        )\r\n    },\r\n    logout() {\r\n        return (\r\n            instance.delete(`auth/login`)\r\n        )\r\n    }\r\n};\r\n\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"Music_wrapper__2u6CV\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"Settings_wrapper__2UwEl\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialog\":\"DialogItem_dialog__3V3gj\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"selectPage\":\"Paginator_selectPage__uvdEO\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"Users_wrapper__2MNVp\"};","module.exports = __webpack_public_path__ + \"static/media/preloader.99509660.svg\";","module.exports = __webpack_public_path__ + \"static/media/logo.840c9b5f.svg\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header_container\":\"Header_header_container__CiM54\",\"header__content\":\"Header_header__content__5ECsT\",\"header__logoData\":\"Header_header__logoData__6EWxj\",\"header__UserDara\":\"Header_header__UserDara__2LPpo\",\"header__logo\":\"Header_header__logo__3x44F\",\"header__name\":\"Header_header__name__3su02\",\"header__UserPhoto\":\"Header_header__UserPhoto__3n3CS\",\"header__select\":\"Header_header__select__kNt-E\",\"header__btn\":\"Header_header__btn__25g53\"};","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","const ADD_MESSAGE = \"social_network/dialogs/ADD-MESSAGE\";\r\n\r\nlet initialState = {\r\n    messages: [\r\n        {id:1, message:\"Hi, my name is Dima.\"},\r\n        {id:2, message:\"Hi, my name is Anton.\"},\r\n        {id:3, message:\"How are you?\"},\r\n        {id:4, message:\"not bad\"},\r\n        {id:5, message:\"ok\"},\r\n        {id:6, message:\"okokok\"}\r\n    ],\r\n    users: [\r\n        {id:1, name:\"Dimas\"},\r\n        {id:2, name:\"Alex\"},\r\n        {id:3, name:\"Sergy\"},\r\n        {id:4, name:\"Anton\"},\r\n        {id:5, name:\"Kate\"},\r\n        {id:6, name:\"Mark\"}\r\n    ]\r\n};\r\n\r\nconst dialogsReducer = (state = initialState, action)=> {\r\n    switch (action.type) {\r\n        case ADD_MESSAGE:\r\n            return {\r\n                ...state,\r\n                messages: [...state.messages, {id:99, message:action.formData.newMessageBody}] //добавляем элемент в messages  за место push\r\n            };\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nexport const addMessage = (formData) => ({type:ADD_MESSAGE, formData:formData});\r\n\r\nexport default dialogsReducer;","let initialState = {\r\n    user:[\r\n        {id:1, name:\"Kate\"},\r\n        {id:2, name:\"Valera\"},\r\n        {id:3, name:\"Mark\"}\r\n    ]\r\n};\r\n\r\n\r\nconst sidebarReducer = (state = initialState, action)=> {\r\n    return state;\r\n};\r\n\r\n\r\n\r\nexport default sidebarReducer;","export  const updateObjectInArray = (items, itemId, objPropName, newObjProps) => {\r\n   return items.map(u => {\r\n        if (u[objPropName] === itemId) {\r\n            return {...u, ...newObjProps}\r\n        }\r\n        return u;\r\n    })\r\n}","import {userAPI} from \"../api/api\";\r\nimport {updateObjectInArray} from \"../utils/object-helpers\";\r\n\r\nconst FOLLOW = \"social_network/users/FOLLOW\";\r\nconst UNFOLLOW = 'social_network/users/UNFOLLOW';\r\nconst SET_USERS = \"social_network/users/SET_USERS\";\r\nconst SET_CURRENT_PAGE = \"social_network/users/SET_CURRENT_PAGE\";\r\nconst SET_TOTAL_USERS_COUNT = \"social_network/users/SET_TOTAL_USERS_COUNT\";\r\nconst TOGGLE_IS_FETCHING = \"social_network/users/TOGGLE_IS_FETCHING\";\r\nconst TOGGLE_IS_FOLLOWING_PROGRESS = \"social_network/users/TOGGLE_IS_FOLLOWING_PROGRESS\";\r\n\r\nlet initialState = { //для стартовых данных. типа заготовка, что бы profileReducer в state что нибудь пришло\r\n    users: [],\r\n    pageSize: 8,\r\n    totalUsersCount: 0,\r\n    currentPage: 1,\r\n    isFetching: false,\r\n    followingInProgress: [],\r\n    portionSize: 10\r\n};\r\n\r\nconst usersReducer = (state = initialState, action) => { // изначально state не может придти, т.к у redux его нет, поэтому мы передаем initialState для первой инициальзации\r\n    switch (action.type) {\r\n        case FOLLOW:\r\n            return {\r\n                ...state,\r\n                users: updateObjectInArray(state.users, action.userId, \"id\", {followed: true})\r\n                //users:[...state.users] т.е этот вариант с нижним идентичные\r\n               /*users: state.users.map(u => {     //пробегаемся по массиву users и .map создает новый массив элементами которого будут сидеть все те же самые users\r\n                    if (u.id === action.userId) {\r\n                        return {...u, followed: true}\r\n                    }\r\n                    return u;\r\n                })*/\r\n            };\r\n        case UNFOLLOW:\r\n            return {\r\n                ...state,\r\n                users: updateObjectInArray(state.users, action.userId, \"id\", {followed: false})\r\n                //users:[...state.users] т.е этот вариант с нижним идентичные\r\n                /*users: state.users.map(u => {     //пробегаемся по массиву users и .map создает новый массив элементами которого будут сидеть все те же самые users\r\n                    if (u.id === action.userId) {\r\n                        return {...u, followed: false}\r\n                    }\r\n                    return u;\r\n                })*/\r\n            };\r\n        case SET_USERS: {\r\n            return {...state, users: [...action.users]}\r\n        }\r\n        case SET_CURRENT_PAGE: {\r\n            return {...state, currentPage: action.pageNumber}\r\n        }\r\n        case SET_TOTAL_USERS_COUNT: {\r\n            return {...state, totalUsersCount: action.totalCount}\r\n        }\r\n        case TOGGLE_IS_FETCHING: {\r\n            return {...state, isFetching: action.isFetching}\r\n        }\r\n        case TOGGLE_IS_FOLLOWING_PROGRESS: {\r\n            return {\r\n                ...state,\r\n                followingInProgress: action.isFetching\r\n                    ? [...state.followingInProgress, action.userId]\r\n                    : state.followingInProgress.filter(id => !action.userId)//пропускаю торлько ту id, кот не равна action.userId\r\n            }\r\n        }\r\n        default:\r\n            return state;\r\n    }\r\n\r\n};\r\n\r\n\r\nexport const follow = (userId) => ({type: FOLLOW, userId: userId});\r\nexport const unFollow = (userId) => ({type: UNFOLLOW, userId: userId});\r\nexport const setUsers = (users) => ({type: SET_USERS, users: users});\r\nexport const setCurrentPage = (pageNumber) => ({type: SET_CURRENT_PAGE, pageNumber: pageNumber});\r\nexport const setUsersTotalCount = (totalCount) => ({type: SET_TOTAL_USERS_COUNT, totalCount: totalCount});\r\nexport const toggleIsFetching = (isFetching) => ({type: TOGGLE_IS_FETCHING, isFetching: isFetching});\r\nexport const setToggleFollowingProgress = (isFetching, userId) => ({\r\n    type: TOGGLE_IS_FOLLOWING_PROGRESS,\r\n    isFetching: isFetching,\r\n    userId: userId\r\n});\r\n\r\nexport const getUsersThunkCreator = (currentPage, pageSize) => {\r\n    return async (dispatch) => {\r\n        dispatch(toggleIsFetching(true));\r\n        let response = await userAPI.getUsers(currentPage, pageSize)\r\n        dispatch(toggleIsFetching(false));\r\n        dispatch(setUsers(response.data.items));\r\n        dispatch(setUsersTotalCount(response.data.totalCount));\r\n    }\r\n};\r\n/*При запуске getUsersThunkCreator страница перерисовывается 5 раз\r\n* 1) Первый рендер страницы, создание реактом объекта (в лице компонента)\r\n* 2) Запускается ComponentDidMount  и запускает 2 перезагрузку ( для  dispatch(toggleIsFetching(true)); true добавляется\r\n* в стор и компонента перерисовывается)\r\n* 3) после того как промис сходит на сервак и придет, запускается dispatch(toggleIsFetching(false)); и false добавляется в стор\r\n* и стор перерисовывается\r\n* 4)  dispatch(setUsers(data.items)); диспатчатся юзеры и перерисовывается страница\r\n* 5) dispatch(setUsersTotalCount(data.totalCount));*/\r\n\r\nconst followUnfollowFlow =async (dispatch, id, apiMethod, actionCreator) => {\r\n    dispatch(setToggleFollowingProgress(true, id));\r\n    let response = await apiMethod(id);\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(actionCreator(id))\r\n    }\r\n    dispatch(setToggleFollowingProgress(false, id));\r\n};\r\nexport const unfollowCreator = (id) => {\r\n    return async (dispatch) => {\r\n        let apiMethod = userAPI.unfollowAtUser.bind(userAPI); //забаяндил потому что метод беру у объекта и вызываю оторвано от самого объекта\r\n        followUnfollowFlow(dispatch, id, apiMethod, unFollow)\r\n    }\r\n};\r\nexport const followThunkCreator = (id) => {\r\n    return async (dispatch) => {\r\n        let apiMethod = userAPI.followAtUser.bind(userAPI);\r\n        followUnfollowFlow(dispatch, id, apiMethod, follow)\r\n    }\r\n};\r\n\r\nexport default usersReducer;","import {headerAPI} from \"../api/api\";\r\nimport {stopSubmit} from \"redux-form\";\r\n\r\nconst SET_USER_DATA = \"social_network/auth/SET_USER_DATA\";\r\nconst SET_USER_PHOTO = \"social_network/auth/SET_USER_PHOTO\";\r\nconst AUTHORIZE_ON_SERVICE = \"social_network/auth/AUTHORIZE_ON_SERVICE\";\r\n\r\n\r\nlet initialState = {\r\n    id: null,\r\n    email: null,\r\n    login: null,\r\n    photos: null,\r\n    isAuth: false\r\n};\r\n\r\nconst authReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case SET_USER_DATA:\r\n            return {\r\n                ...state,\r\n                ...action.data\r\n            };\r\n        case SET_USER_PHOTO:\r\n            return {\r\n                ...state,\r\n                photos: action.photo\r\n            };\r\n        case AUTHORIZE_ON_SERVICE:\r\n            return {\r\n                ...state,\r\n                id: action.id\r\n            };\r\n        default:\r\n            return state;\r\n    }\r\n\r\n};\r\n\r\n\r\nexport const setAuthUserData = (id, login, email, isAuth) => ({type: SET_USER_DATA, data: {id, login, email, isAuth}});\r\nexport const setAuthUserPhoto = (photo) => ({type: SET_USER_PHOTO, photo: photo});\r\n\r\n\r\nexport const setAuthUserThunkCreator = () => {\r\n    return async (dispatch) => { //результатом async функции вернентся промис\r\n        let response = await headerAPI.getUserLogin();\r\n        if (response.data.resultCode === 0) {\r\n            let id = response.data.data.id;\r\n            let login = response.data.data.login;\r\n            let email = response.data.data.email;\r\n            dispatch(setAuthUserData(id, login, email, true));\r\n            headerAPI.getUserLoginPhoto(id).then(photos => {\r\n                dispatch(setAuthUserPhoto(photos.small));\r\n            });\r\n        }\r\n    };\r\n};\r\n\r\nexport const authorizeOnServiceThunkCreator = (authorizeData) => {\r\n    return async (dispatch) => {\r\n    let response = await headerAPI.authorizeOnService(authorizeData)\r\n            if (response.data.resultCode === 0) {\r\n                dispatch(setAuthUserThunkCreator())\r\n            } else {\r\n                let message = response.data.messages.length > 0 ? response.data.messages[0] : \"Some error\";\r\n                dispatch(stopSubmit('login', {_error: message})) //'login'- форма которую обрабатываем\r\n                /*_error это общая ошибка, после этого в форме login в props появится error*/\r\n            }\r\n        }\r\n\r\n};\r\n\r\nexport const logoutThunkCreator = () => {\r\n    return async (dispatch) => {\r\n    let response = await headerAPI.logout();\r\n            if (response.data.resultCode === 0) {\r\n                dispatch(setAuthUserData(null, null, null, false));\r\n            }\r\n\r\n    }\r\n};\r\n\r\nexport default authReducer;","import {setAuthUserThunkCreator} from \"./auth-reducer\";\r\n\r\nconst SET_INITIALIZED_SUCCESS= \"social_network/app/SET_INITIALIZED_SUCCESS\";\r\n\r\nlet initialState = {\r\n    initialized: false\r\n};\r\n\r\nconst appReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case SET_INITIALIZED_SUCCESS:\r\n            return {\r\n                ...state,\r\n                initialized: true\r\n            };\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nexport const initializedSuccess = () => ({type: SET_INITIALIZED_SUCCESS});\r\n\r\nexport const initializeAppThunkCreator = () => (dispatch) => {\r\n    let promise = dispatch(setAuthUserThunkCreator()); //когда будет много промисов, нужно обвеннуть в массив НУЖНО что бы сюда вернулся промис\r\n    Promise.all([promise]).then(() => { // поэтому в setAuthUserThunkCreator надо добавить return, потом нужно вызвать Promise.all([promise])\r\n        //then вызывается у all\r\n        dispatch(initializedSuccess())\r\n    })\r\n};\r\n\r\nexport default appReducer;","import {applyMiddleware, combineReducers, compose, createStore} from \"redux\";\r\nimport { reducer as formReducer } from 'redux-form'\r\nimport profileReducer from \"./profile-reducer\";\r\nimport dialogsReducer from \"./dialogs-reducer\";\r\nimport sidebarReducer from \"./sidebar-reducer\";\r\nimport usersReducer from \"./users-reducer\";\r\nimport authReducer from \"./auth-reducer\";\r\nimport thunkMiddleware from \"redux-thunk\";\r\nimport appReducer from \"./app-reducer\";\r\n\r\nlet reducers = combineReducers({  //передаем этой функции наши редюсоры. импортим из библиотеки redux\r\n    profilePage: profileReducer,  //юда приходит state от редюсеров. и все это упаковывается в общий state\r\n    dialogsPage: dialogsReducer,\r\n    sideBar: sidebarReducer,\r\n    usersPage: usersReducer,\r\n    auth: authReducer,\r\n    form: formReducer,\r\n    app:appReducer\r\n});\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst store = createStore(reducers, composeEnhancers(applyMiddleware(thunkMiddleware)\r\n));\r\n\r\n//thunkMiddleware- промежуточный уровень\r\n//автоматически createStore создает внутри себя state у которого есть 3 свойства(reducers)\r\nwindow.__store__ = store;\r\nexport default store;\r\n","import React from 'react';\r\nimport c from './FriendsSiteBar.module.css';\r\nimport {NavLink} from \"react-router-dom\";\r\nimport logo from \"../../../assets/images/user.png\";\r\n\r\nconst FriendsSiteBar = (props) => {\r\n    return (\r\n        <div className={c.friendsItem}>\r\n            <img src={logo}/>\r\n            <NavLink to=\"/dialogs/\" activeClassName={c.active}>{props.name}</NavLink>\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default FriendsSiteBar;","import React from 'react';\r\nimport c from './Navbar.module.scss';\r\nimport {NavLink} from \"react-router-dom\";\r\nimport FriendsSiteBar from \"./FriendsSiteBar/FriendsSiteBar\";\r\n\r\nconst Navbar = (props) => {\r\n    let friendsItems = props.state.user.map((u) => (<FriendsSiteBar name={u.name} key={u.id} id={u.id}/>));\r\n    return (\r\n        <nav className={c.navBar}>\r\n            <div className={c.navBar__item}>\r\n                <NavLink to=\"/profile\"\r\n                         activeClassName={c.active}>Profile</NavLink> {/* activeC.N. с помошью этого мы добавл класс для активных ссылок*/}\r\n            </div>\r\n            <div className={c.navBar__item}>\r\n                <NavLink to=\"/dialogs\" activeClassName={c.active}>Message</NavLink>\r\n            </div>\r\n            <div className={c.navBar__item}>\r\n                <NavLink to=\"/users\" activeClassName={c.active}>Users</NavLink>\r\n            </div>\r\n            <div className={c.navBar__item}>\r\n                <NavLink to=\"/news\" activeClassName={c.active}>News</NavLink>\r\n            </div>\r\n            <div className={c.navBar__item}>\r\n                <NavLink to=\"/music\" activeClassName={c.active}>Music</NavLink>\r\n            </div>\r\n            <div className={c.navBar__item}>\r\n                <NavLink to=\"/settings\" activeClassName={c.active}>Settings</NavLink>\r\n            </div>\r\n            <div className={c.navBar__friends}>\r\n                <h3> Friends </h3>\r\n                <div className={c.navBar__friendsItems}>\r\n                    {friendsItems}\r\n                </div>\r\n            </div>\r\n        </nav>\r\n    )\r\n};\r\n\r\nexport default Navbar; // экспортируем код в другие файлы default экспортирует все.","import React from 'react';\r\nimport c from './Music.module.css';\r\n\r\nconst Music = () => {\r\n    return (\r\n        <div className={c.wrapper}>\r\n            Muzon\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Music;","import React from 'react';\r\nimport c from './Settings.module.css';\r\n\r\nconst Settings = () => {\r\n    return (\r\n        <div className={c.wrapper}>\r\n            Settings\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Settings;","import React from 'react';\r\nimport c from './Message.module.css';\r\n\r\nconst Message = (props) => {\r\n    return (\r\n\r\n            <div className={c.message}>\r\n                {props.content}\r\n            </div>\r\n\r\n\r\n    )\r\n};\r\n\r\nexport default Message;","import React from 'react';\r\nimport c from './DialogItem.module.css';\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\nconst DialogItem = (props) => {\r\n    return (\r\n        <div className={c.dialog}>\r\n            <img src=\"https://c.wallhere.com/photos/1e/7d/1600x1200_px_action_adventure_alien_Aliens_Avatar_fantasy_fi-1635355.jpg!d\"></img>\r\n            <NavLink to={\"/dialogs/\" + props.id}>{props.name}</NavLink>\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\nexport default DialogItem;","import React from \"react\";\r\nimport {Field, reduxForm} from \"redux-form\";\r\nimport {Textarea} from \"../../common/FormsControls/FormsControls\";\r\nimport {maxLengthCreator, requireField} from \"../../../utils/validators/validators\";\r\n\r\nconst maxLength100 =maxLengthCreator(5);\r\nconst AddMessageForm = (props) => {\r\n    return (\r\n        <form onSubmit={props.handleSubmit}>\r\n            <div>\r\n                <Field component={Textarea} name={\"newMessageBody\"} placeholder=\"Enter your message\"\r\n                validate={[requireField, maxLength100]}/>\r\n            </div>\r\n            <div>\r\n                <button>Send message</button>\r\n            </div>\r\n        </form>\r\n    )\r\n};\r\n\r\nexport default reduxForm({form:\"dialogsAddMessageForm\"})(AddMessageForm);\r\n","import React from 'react';\r\nimport c from './Dialogs.module.css';\r\nimport Message from \"./Message/Message\";\r\nimport DialogItem from \"./DialogItem/DIalogItem\";\r\nimport DialogsForm from \"./DialogsForm/DialogsForm\";\r\n\r\n\r\nlet Dialogs = (props) => {\r\n    const onSubmit = (formData) => {\r\n        props.addMessage(formData)\r\n    };\r\n\r\n    return (\r\n        <div className={c.dialogs}>\r\n            <div className={c.dialogsItems}>\r\n                {props.dialogsPage.users.map(u => (<DialogItem name={u.name} key={u.id} id={u.id}/>))}\r\n            </div>\r\n            <div className={c.messages}>\r\n                <div>\r\n                    {props.dialogsPage.messages.map(m => (\r\n                        <Message content={m.message} key={m.id} id={m.id}/>))}\r\n                </div>\r\n                <div className={c.textTupe}>\r\n                    <DialogsForm onSubmit={onSubmit}/>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n\r\n};\r\n\r\n\r\nexport default Dialogs;","import React from 'react';\r\nimport {addMessage} from '../../Redux/dialogs-reducer';\r\nimport {connect} from \"react-redux\";\r\nimport Dialogs from \"./Dialogs\";\r\nimport {withAuthRedirect} from \"../../hoc/withAuthRedirect\";\r\nimport {compose} from \"redux\";\r\n\r\nclass DialogsContainer extends React.Component {\r\n    render() {\r\n        return <Dialogs\r\n            dialogsPage={this.props.dialogsPage}\r\n            addMessage={this.props.addMessage}/>\r\n    }\r\n}\r\n\r\nlet mapStateToProps = (state) => { //обрашаемся сразу к стейт, а не к стору благодаря connect\r\n    return {\r\n        dialogsPage: state.dialogsPage //возвращает объект с данными которые мы взяли из стейта\r\n\r\n    };\r\n};\r\n\r\nexport default compose(\r\n    connect(mapStateToProps, {addMessage}), //далее compose берет результат у withAuthRedirect и перекидывает его в след ф-ю\r\n    withAuthRedirect  //ф-я compose автоматически возьмет DialogsContainer и закинет его в вызов функции withAuthRedirect\r\n)(DialogsContainer);  //второй вызов вызывает DialogsContainer. DialogsContainer попадает в withAuthRedirect\r\n/*Смысл работы: берется DialogsContainer и закидывается в withAuthRedirect, потом резулитат закидывается в\r\nconnect(mapStateToProps, {addMessage, changeMessage})*/\r\n\r\n","import React, {useState} from 'react';\r\nimport c from \"./Paginator.module.scss\";\r\n\r\n\r\nlet Paginator = (props) => {\r\n    let pagesCount = Math.ceil(props.totalItemsCount / props.pageSize);\r\n    let pages = [];\r\n    for (let i = 1; i <= pagesCount; i++) {\r\n        pages.push(i);\r\n    }\r\n\r\n    let portionCount = Math.ceil(pagesCount / props.portionSize); //сколько порций\r\n    let [portionNumber, setPortionNumber] = useState(1);\r\n    let leftPortionPageNumber = (portionNumber - 1) * props.portionSize + 1;\r\n    let rightPortionPageNumber = portionNumber * props.portionSize;\r\n\r\n    return (\r\n        <div>\r\n            {portionNumber > 1 &&\r\n            <button onClick={() => {setPortionNumber(portionNumber - 1)}}>LEFT</button>}\r\n\r\n            {pages\r\n                .filter(p => p >= leftPortionPageNumber && p <= rightPortionPageNumber)\r\n                .map(p => {\r\n                    return <span className={props.currentPage === p && c.selectPage}\r\n                                 onClick={() => {\r\n                                     props.onPageChanget(p)\r\n                                 }}>{p}</span>\r\n                })}\r\n\r\n            {portionNumber < portionCount &&\r\n            <button onClick={() => {setPortionNumber(portionNumber + 1)}}>RIGHT</button>}\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default Paginator;","import React from 'react';\r\nimport c from './Users.module.css';\r\nimport userPhoto from '../../assets/images/user.png'\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\n\r\n\r\nlet User = (props) => {\r\n    return <div>\r\n        <div className={c.wrapper}>\r\n            <div>\r\n                <NavLink to={'/profile/' + props.user.id}>\r\n                    <img src={ props.user.photos.small != null ?  props.user.photos.small : userPhoto}/>\r\n                </NavLink>\r\n            </div>\r\n            <div>\r\n                { props.user.followed\r\n                    ? <button disabled={props.followingInProgress.some(id => id ===  props.user.id)} onClick={() => {\r\n                        props.unfollowCreator( props.user.id);\r\n                    }}>Unfollow</button>\r\n                    : <button disabled={props.followingInProgress.some(id => id ===  props.user.id)} onClick={() => {\r\n                        props.followThunkCreator( props.user.id);\r\n                    }}>Follow</button>}\r\n            </div>\r\n        </div>\r\n        <div>\r\n            <div>\r\n                <div>{props.user.name}</div>\r\n                <div>{props.user.status}</div>\r\n            </div>\r\n            <div>\r\n                <div>{\"u.location.country\"}</div>\r\n                <div>{\"u.location.city\"}</div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n};\r\n\r\nexport default User;","import React from 'react';\r\nimport Paginator from \"../common/Paginator/Paginator\";\r\nimport User from \"./User\";\r\n\r\n\r\nlet Users = (props) => {\r\n    return (\r\n        <div>\r\n            <Paginator currentPage={props.currentPage} onPageChanget={props.onPageChanget}\r\n                       totalItemsCount={props.totalUsersCount} pageSize={props.pageSize}\r\n                       portionSize={props.portionSize}/>\r\n\r\n            {props.users.map(u => <User key={u.id} user={u} followingInProgress={props.followingInProgress}\r\n                                        unfollowCreator={props.unfollowCreator}\r\n                                        followThunkCreator={props.followThunkCreator}/>\r\n            )}\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default Users;","import {createSelector} from \"reselect\";\r\n\r\nexport const getUsers = (state) => {\r\n    return state.usersPage.users\r\n};\r\nexport const getPageSize = (state) => {\r\n    return state.usersPage.pageSize\r\n};\r\nexport const getTotalUsersCount = (state) => {\r\n    return state.usersPage.totalUsersCount\r\n};\r\nexport const getCurrentPage = (state) => {\r\n    return state.usersPage.currentPage\r\n};\r\nexport const getIsFetching = (state) => {\r\n    return state.usersPage.isFetching\r\n};\r\nexport const getFollowingInProgress = (state) => {\r\n    return state.usersPage.followingInProgress\r\n};\r\n\r\nconst getUsersSelector = createSelector(getUsers, getIsFetching, (users, isFetching) => {\r\n    return users.filter(u => true)});\r\n/*Есть селектор, селектор по сути функция, которая делает какие-то операции и что то возвращает.\r\n* Reselect стоит пользоваться когда селекторы сложные, если не сложные, то можно и без Reselect\r\n* Reselect сохраняет текущий результат селектра и когда селектр снова вызовется, он сперва сравнит его с прошлым\r\n* результатом и если  входные данные (результат getUsers) и isFetching не изменились,\r\n* функция просто вернет кешированный расчет элементов и их итогов.\r\n* Если элементы изменены (например, добавлен элемент, изменилось количество, любые манипуляции с результатом getItems),\r\n* функция снова будет выполнена*/\r\n/*\r\n !!!!getUsers - это зависомость, их иожет быть несколько\r\n    и когда библиотека будет вызывать эту функцию, она сперва вызовет getUsers, getUsers\r\n    возвращает users, значит надо в скобки засунуть users (users), потом если есть еще одна зависомость\r\n    , то библиотека и ее вызывает и в скобки надо засунуть результат этой зависимости\r\n    getUsersSelector(state) - в mapStateToProps этот селектор вызывается так\r\n*/\r\n","import React from 'react';\r\nimport Users from './Users';\r\nimport {connect} from 'react-redux';\r\nimport {\r\n    setCurrentPage,\r\n    getUsersThunkCreator,\r\n    unfollowCreator,\r\n    followThunkCreator\r\n} from '../../Redux/users-reducer';\r\nimport Preloader from \"../common/Preloader/Preloader\";\r\nimport {\r\n    getCurrentPage,\r\n    getFollowingInProgress,\r\n    getIsFetching,\r\n    getPageSize,\r\n    getTotalUsersCount,\r\n    getUsers\r\n} from \"../../Redux/users-selectors\";\r\n\r\n\r\nclass UsersContainer extends React.Component {\r\n    /*constructor(props) {   //конструктор сформировыввется только один раз\r\n        super(props); } //и даже если будут изм в рамках этой страницы, то constructor перерисовываться не будет\r\n        но если constructor не делает ничего кроме как перебрасывает props в super, то его можно удалить, он это делает\r\n        автоматом*/\r\n\r\n    componentDidMount() {\r\n\r\n        this.props.getUsersThunkCreator(this.props.currentPage, this.props.pageSize);//закометированный код ниже теперь в getUsersThunkCreator\r\n\r\n        /* this.props.toggleIsFetching(true);\r\n         userAPI.getUsers(this.props.currentPage, this.props.pageSize)\r\n             .then(data => {\r\n                 this.props.toggleIsFetching(false);\r\n                 this.props.setUsers(data.items);\r\n                 this.props.setUsersTotalCount(data.totalCount);\r\n             });*/\r\n    }\r\n\r\n\r\n    onPageChanget = (pageNumber) => {\r\n        this.props.setCurrentPage(pageNumber);\r\n        this.props.getUsersThunkCreator(pageNumber, this.props.pageSize);\r\n    };\r\n\r\n    render() {\r\n        return <>\r\n            {this.props.isFetching ? <Preloader/> : null}\r\n            <Users\r\n                users={this.props.users}\r\n                totalUsersCount={this.props.totalUsersCount}\r\n                pageSize={this.props.pageSize}\r\n                currentPage={this.props.currentPage}\r\n                onPageChanget={this.onPageChanget}\r\n                followingInProgress={this.props.followingInProgress}\r\n                unfollowCreator={this.props.unfollowCreator}\r\n                followThunkCreator={this.props.followThunkCreator}\r\n                portionSize={this.props.portionSize}/>\r\n        </>\r\n    }  //у класовой компоненты обязательно есть метод render()\r\n}\r\n\r\n/*let mapStateToProps = (state) => {\r\n    return {\r\n        users: state.usersPage.users,\r\n        pageSize: state.usersPage.pageSize,\r\n        totalUsersCount: state.usersPage.totalUsersCount,\r\n        currentPage: state.usersPage.currentPage,\r\n        isFetching: state.usersPage.isFetching,\r\n        followingInProgress: state.usersPage.followingInProgress\r\n\r\n    };\r\n};*/\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        users: getUsers(state),\r\n        pageSize: getPageSize(state),\r\n        totalUsersCount: getTotalUsersCount(state),\r\n        currentPage: getCurrentPage(state),\r\n        isFetching: getIsFetching(state),\r\n        followingInProgress: getFollowingInProgress(state),\r\n        portionSize: state.usersPage.portionSize\r\n    };\r\n};\r\n\r\n/*let mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        follow: (userId) => {\r\n            dispatch(followCreator(userId))\r\n        },\r\n        unfollow: (userId) => {\r\n            dispatch(unFollowCreator(userId))\r\n        },\r\n        setUsers: (users) => {\r\n            dispatch(setUsersCreater(users))\r\n        },\r\n        setCurrentPage: (pageNumber) => {\r\n            dispatch(setCarrentPageCreater(pageNumber))\r\n        },\r\n        setTotalUsersCount: (totalCount) => {\r\n            dispatch(setUsersTotalCountCreater(totalCount))\r\n        },\r\n        toggleIsFetching: (IsFetching) => {\r\n            dispatch(toggleIsFetchingCreater(IsFetching))\r\n        }\r\n\r\n    }\r\n};*/\r\n//Заменили f mapDispatchToProps на ссылки АС которые ниже\r\n/*делаю ссылки на мои АС и connect автоматически обворачивает значения\r\nэтого обекта в коллбэки и добавляет dispatch*/\r\nexport default connect(mapStateToProps, {\r\n    setCurrentPage, getUsersThunkCreator, unfollowCreator, followThunkCreator\r\n//если follow: follow, то можно записать просто follow\r\n})(UsersContainer);\r\n\r\n","import React from 'react';\r\n\r\n\r\nexport const WithSuspense = (Component) => {  //4  принимает компонету и все предыдущие пропсы\r\n    const AddSuspenseContainer = (props) => { //Component c большой буквы\r\n        return <React.Suspense fallback={<div>Loading...</div>}>\r\n            <Component{...props}/>\r\n        </React.Suspense>\r\n    };\r\n    return AddSuspenseContainer;\r\n};\r\n\r\n\r\n","import React from 'react'; // импортируем модуль из node modules без ./ он добавл во все файлы\r\nimport c from './Header.module.scss';\r\nimport {NavLink} from \"react-router-dom\"; // подкл стили; теперь это объект\r\nimport userPhoto from \"../../assets/images/user.png\";\r\nimport logo from \"../../assets/images/logo.svg\";\r\n\r\nconst Header = (props) => {\r\n    return (\r\n        <header className={c.header_container}>\r\n            <div className={c.header__content}>\r\n                <div className={c.header__logoData}>\r\n                    <img className={c.header__logo} src={logo}/>\r\n                    <span className={c.header__name}>Social network</span>\r\n                </div>\r\n                <div className={c.header__UserDara}>\r\n                    {props.isAuth\r\n                        ? <div className={c.header__select}>\r\n                            {props.login}\r\n                            <img className={c.header__UserPhoto} src={props.photo != null ? props.photo : userPhoto} alt=\"\"/>\r\n                            <button className={c.header__btn} onClick={props.logoutThunkCreator}>Log out</button>\r\n                        </div>\r\n                        : <NavLink className={c.header__btn} to={\"/Login\"}>Log in</NavLink>\r\n                    }\r\n                </div>\r\n            </div>\r\n        </header>\r\n    )\r\n};\r\n\r\nexport default Header; // экспортируем код в другие файлы default экспортирует все.","import React from 'react';\r\nimport Header from \"./Header\";\r\nimport {connect} from \"react-redux\";\r\nimport {logoutThunkCreator} from \"../../Redux/auth-reducer\";\r\n\r\nclass HeaderContainer extends React.Component {\r\n    render() {\r\n        return <Header {...this.props}/>\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        isAuth: state.auth.isAuth,\r\n        login: state.auth.login,\r\n        photo: state.auth.photos\r\n    }\r\n};\r\n\r\nexport default connect(mapStateToProps, {logoutThunkCreator})(HeaderContainer);","import React from 'react';\r\nimport {Field, reduxForm} from \"redux-form\";\r\nimport {authorizeOnServiceThunkCreator} from \"../../Redux/auth-reducer\";\r\nimport {connect} from \"react-redux\";\r\nimport {requireField} from \"../../utils/validators/validators\";\r\nimport {LoginInput} from \"../common/FormsControls/FormsControls\";\r\nimport Redirect from \"react-router-dom/es/Redirect\";\r\nimport c from './../common/FormsControls/FormsControls.module.scss';\r\n\r\nconst LoginForm = ({handleSubmit, error}) => { //деструктуризация пропсов. Пишу то что нужно взять\r\n    return (\r\n        <form onSubmit={handleSubmit}>\r\n            {/*Действия: форма вызвала handleSubmit из LoginReduxForm, внутри handleSubmit вызовется то что пришло\r\n             в LoginReduxForm т.е props.onSubmit, и в этот onSubmit придут данные собранные контейнерной компонентой для меня*/}\r\n            {/*handleSubmit сделает 3 действия e.preventDefault, сбор всех данных и все упаковывается в объект и вызывается\r\n            из контейнерной компоненты onSubmit(formData)- что бы сообщить во внейший мир что данные засобмитили из формы*/}\r\n            <div>\r\n                {/*name нужно для того что бы каждый элемент отпралялся под каким то именем, т.е форма- это объект, а name это свойства формы*/}\r\n                <Field placeholder={\"login\"} name={\"login\"} component={LoginInput}\r\n                       validate={[requireField]}/>{/*меняю input на Field*/}\r\n            </div>\r\n            <div>\r\n                <Field placeholder={\"Password\"} name={\"Password\"} component={LoginInput} type=\"password\"\r\n                       validate={[requireField]}/>\r\n            </div>\r\n            <div>\r\n                <Field component={\"input\"} type=\"checkbox\" name={\"rememberMe\"}/> remember\r\n                me {/*пишу каким типом он должен быть*/}\r\n            </div>\r\n            {error && <div className={c.loginError}> {/*если props.error - true, тогда выводится div*/}\r\n                {error}\r\n            </div>}\r\n            <div>\r\n                <button> Log in</button>\r\n            </div>\r\n        </form>\r\n    )\r\n};\r\n\r\nconst LoginReduxForm = reduxForm({\r\n    form: 'login' //уникальное название конкретно для этой формы\r\n})(LoginForm); //передаем ту форму, вокруг которой нужно создать redux-form\r\n\r\nconst Login = (props) => {\r\n    const onSubmit = (formData) => {  //сюда придут все значения из формы\r\n        console.log(formData); //теперь эти данные можно через санку отправь на сервак но сначала надо сделать коннект\r\n        props.authorizeOnServiceThunkCreator(formData)\r\n    };\r\n\r\n    if (props.isAuth) {\r\n        return <Redirect to={\"/profile\"}/>\r\n    }\r\n    return (\r\n        <div>\r\n            <h1>Login</h1>\r\n            <LoginReduxForm onSubmit={onSubmit}/>\r\n        </div>\r\n    )\r\n\r\n};\r\nconst mapStateToProps = (state) => {\r\n    return ({isAuth: state.auth.isAuth})\r\n};\r\nexport default connect(mapStateToProps, {authorizeOnServiceThunkCreator})(Login);","import React from 'react';\nimport c from './App.module.scss';\nimport {BrowserRouter, Route, withRouter} from \"react-router-dom\";\nimport {connect, Provider} from \"react-redux\";\nimport {compose} from \"redux\";\nimport store from \"./Redux/redux-store\";\nimport Navbar from './components/Navbar/Navbar';\nimport Music from \"./components/Music/Music\";\nimport Settings from \"./components/Settings/Settings\";\nimport DialogsContainer from \"./components/Dialogs/DIalogsContainer\";\nimport UsersContainer from \"./components/Users/UsersContainer\";\nimport {WithSuspense} from \"./hoc/withSuspense\";\nimport HeaderContainer from \"./components/Header/HeaderContainer\";\nimport Login from \"./components/Login/Login\";\nimport {initializeAppThunkCreator} from \"./Redux/app-reducer\";\nimport Preloader from \"./components/common/Preloader/Preloader\";\n\n//import News from \"./components/News/News\";\n//import ProfileContainer from \"./components/Profile/ProfileContainer\";\nconst News = React.lazy(() => import (\"./components/News/News\")); //загрузится когда понадобится\nconst ProfileContainer = React.lazy(() => import (\"./components/Profile/ProfileContainer\")); //загрузится когда понадобится\n\nclass App extends React.Component {\n    componentDidMount() {\n        this.props.initializeAppThunkCreator();\n    }\n\n    render() {\n        if (!this.props.initialized) {\n            return <Preloader/>\n        }\n        return (\n            <div className=\"app-wrapper\">\n                <HeaderContainer/>\n                <main className={c.page_Main}>\n                    <div className={c.navBar}>\n                        <Navbar state={this.props.state.sideBar}/>\n                    </div>\n                    <div className={c.content}>\n                        <Route path='/login' render={() => <Login/>}/>\n                        <Route path='/profile/:userId?'\n                               render={WithSuspense(ProfileContainer)}/> {/*Так пропсы можно прокинуть*/}\n                        <Route path='/dialogs' render={() =>\n                            <DialogsContainer/>}/> {/*path смотрит на адресную строку. если адрес его, то он вкл*/}\n                        <Route path='/users' render={() => <UsersContainer/>}/>\n                        <Route path='/news' render={WithSuspense(News)}/>\n                        <Route path='/music' render={() => <Music/>}/>\n                        <Route path='/settings' render={() => <Settings/>}/>\n                        {/*<Route path='/profile' component={Profile}/>             !!!!!через  них пропсы не прокинешь\n                    <Route path='/dialogs' component={Dialogs}/> path смотрит на адресную строку. если адрес его, то он вкл\n                    <Route path='/news' component={News}/>\n                    <Route path='/music' component={Music}/>\n                    <Route path='/settings' component={Settings}/>*/}\n                    </div>\n                </main>\n            </div>)\n            ;\n    }\n}\n\nconst mapStateToProps = (state) => {\n    return ({\n        initialized: state.app.initialized\n    })\n};\n\nconst AppContainer = compose(\n    withRouter,\n    connect(mapStateToProps, {initializeAppThunkCreator}))\n(App);\n\nconst SocialNetworkApp = () => {\n    return (\n        <BrowserRouter>  {/*bind означает что ты захардкодили this у этой функции. И при ее вызове она будет обращаться к store, а не к пропсу*/}\n            <Provider store={store}>\n                <AppContainer state={store.getState()} dispatch={store.dispatch.bind(store)}/>\n            </Provider>\n        </BrowserRouter>);\n};\n\nexport default SocialNetworkApp;\n","import * as serviceWorker from './serviceWorker';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';  //импортируем код css с других файлов, он отл от импорта js\nimport SocialNetworkApp from './App'\n\nReactDOM.render(<SocialNetworkApp/>, document.getElementById('root'));\n\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\n\n\nserviceWorker.unregister();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"FormsControls_formControl__1TLvR\",\"error\":\"FormsControls_error__2Tgz9\",\"loginError\":\"FormsControls_loginError__f8jNE\"};","module.exports = \"data:image/png;base64,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\"","/*Validator Это функция, которая получает value и возвращает, если есть ошибка, error message, если ошибки нет, то undefined\r\n* Далее на Fild в форме вещается validate={requireField} и в него закидываются все валидаторы, которые нужны для конкретного\r\n* поля ввода*/\r\n/*Замыкание - функция, которая возвращает другую функцию, и эта другая функция имеет доступ к данным родительской функции*/\r\n\r\nexport const requireField = value => {\r\n    if(value) return undefined;\r\n    return \"Field is required\";\r\n};\r\n\r\nexport const maxLengthCreator = (maxLength) => (value) => {  //функция которая возвращает другую функцию\r\n    if(value.length > maxLength) return `Max length is ${maxLength} symbols`;\r\n    return undefined;\r\n};","import React from 'react';\r\nimport c from './FormsControls.module.scss';\r\n//в mata хранятся данные типа error, touched или warning, это данные о состоянии поля, введена ли инфа, тронуто ли поле юзером\r\nexport const Textarea = ({input, meta, ...props}) => { //rest оператор\r\n    return (\r\n        <div className={ c.formControl + \" \" + (meta.error && meta.touched ? c.error : \"\")}>\r\n            <div>\r\n                <textarea {...input}{...props}/>\r\n            </div>\r\n            {meta.error && meta.touched && <span>{meta.error}</span>} {/*если элемент был тронут и  meta.error - true то вылезает спан*/}\r\n        </div>\r\n    )\r\n};\r\n\r\nexport const LoginInput = ({input, meta, ...props}) => { //rest оператор\r\n    return (\r\n        <div className={ c.formControl + \" \" + (meta.error && meta.touched ? c.error : \"\")}>\r\n            <div>\r\n                <input {...input}{...props}/>\r\n            </div>\r\n            {meta.error && meta.touched && <span>{meta.error}</span>} {/*если элемент был тронут и  meta.error - true то вылезает спан*/}\r\n        </div>\r\n    )\r\n};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialogs\":\"Dialogs_dialogs__kcDDu\",\"dialogsItems\":\"Dialogs_dialogsItems__14Q4t\",\"messages\":\"Dialogs_messages__26W2u\"};","import React from 'react';\r\nimport preloader from './../../../assets/images/preloader.svg'\r\nlet Preloader= (props) => {\r\n    return <img src={preloader}/>\r\n};\r\n\r\nexport default  Preloader;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"app-wrapper\":\"App_app-wrapper__2m5HR\",\"page_Main\":\"App_page_Main__1PKxi\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"friendsItem\":\"FriendsSiteBar_friendsItem__87vA9\"};","import {profileAPI} from \"../api/api\";\r\n\r\nconst ADD_POST = \"social_network/profile/ADD-POST\";\r\nconst SET_USER_PROFILE = 'social_network/profile/SET_USER_PROFILE';\r\nconst ADD_USER_STATUS = \"social_network/profile/ADD_USER_STATUS\";\r\n\r\nlet initialState = { //для стартовых данных. типа заготовка, что бы profileReducer в state что нибудь пришло\r\n    posts: [\r\n        {id: 1, message: \"Dorow, my name is React\", likesCount: 1},\r\n        {id: 2, message: \"It is first post\", likesCount: 16},\r\n        {id: 3, message: \"It is thirst post\", likesCount: 9},\r\n        {id: 3, message: \"yes\", likesCount: 111}\r\n    ],\r\n    profile: null,\r\n    status: \"\"\r\n};\r\n\r\nconst profileReducer = (state = initialState, action) => { // изначально state не может придти, т.к у redux его нет, поэтому мы передаем initialState для первой инициальзации\r\n    switch (action.type) {\r\n        case ADD_POST:\r\n            return {\r\n                ...state,\r\n                posts: [...state.posts, {id: 5, message: action.formData.newPostText, likesCount: 7}],\r\n            };\r\n        case SET_USER_PROFILE:\r\n            return {...state, profile: action.profile};\r\n        case ADD_USER_STATUS:\r\n            return {...state, status: action.status};\r\n        default:                        //но если ничего не изм то вывод надо сделать по умолчанию\r\n            return state;\r\n    }\r\n};\r\n\r\nexport const addPostCreator = (formData) => ({type: ADD_POST, formData: formData});\r\nexport const setUserProfile = (profile) => ({type: SET_USER_PROFILE, profile: profile});\r\nexport const addUserStatus = (status) => ({type: ADD_USER_STATUS, status: status});\r\n\r\nexport const UserProfileThunkCreator = (userId) => {\r\n    return async (dispatch) => {\r\n        let response = await profileAPI.getUserProfile(userId)\r\n        dispatch(setUserProfile(response.data));\r\n    }\r\n};\r\n\r\nexport const UserStatusThunkCreator = (userId) => {\r\n    return async (dispatch) => {\r\n        let response = await profileAPI.getUserStatus(userId)\r\n        dispatch(addUserStatus(response.data));\r\n    }\r\n};\r\n\r\nexport const UpdateUserStatusThunkCreator = (status) => {\r\n    return async (dispatch) => {\r\n        let response = await profileAPI.updeteStatus(status); // в response будет результатом которым зарезолвится промис\r\n        if (response.data.resultCode === 0) {\r\n            dispatch(addUserStatus(status));\r\n        }\r\n    }\r\n};\r\n\r\nexport default profileReducer;"],"sourceRoot":""}