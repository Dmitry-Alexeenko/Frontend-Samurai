(this["webpackJsonpreact-first-project"]=this["webpackJsonpreact-first-project"]||[]).push([[3],{485:function(e,t,a){e.exports={ProfileInfo:"ProfileInfo_ProfileInfo__2MXUe",ProfileInfo__UserAbout:"ProfileInfo_ProfileInfo__UserAbout__2I9FH",ProfileInfo__UserName:"ProfileInfo_ProfileInfo__UserName__mtjD6",ProfileInfo__avatar:"ProfileInfo_ProfileInfo__avatar__lvDrl",ProfileInfo__loadPhoto:"ProfileInfo_ProfileInfo__loadPhoto__3BPAx",ProfileInfo__UserData:"ProfileInfo_ProfileInfo__UserData__3t6Iw",UserData__item:"ProfileInfo_UserData__item__37OJO"}},486:function(e,t,a){e.exports={status__text:"ProfileStatus_status__text__3vu1Z"}},487:function(e,t,a){e.exports={myPosts:"MyPosts_myPosts__-sZVL"}},488:function(e,t,a){e.exports={PostItem:"Post_PostItem__6-AKX",PostItem__data:"Post_PostItem__data__2qF0j",PostItem__text:"Post_PostItem__text__Sa9rj",PostItem__like:"Post_PostItem__like__1DoIt",PostItem__likeContainer:"Post_PostItem__likeContainer__2kpRy"}},489:function(e,t,a){e.exports={formControl:"AddPostForm_formControl__1-o2j",formControl__text:"AddPostForm_formControl__text__34i5L",formControl__btn:"AddPostForm_formControl__btn__3tx-_"}},491:function(e,t,a){"use strict";a.r(t);var o=a(66),n=a(67),r=a(68),s=a(69),l=a(0),i=a.n(l),c=a(111),m=a(485),u=a.n(m),f=a(65),_=a(486),p=a.n(_),d=function(e){var t=e.status,a=e.UpdateUserStatus,o=Object(l.useState)(!1),n=Object(c.a)(o,2),r=n[0],s=n[1],m=Object(l.useState)(t),u=Object(c.a)(m,2),f=u[0],_=u[1];Object(l.useEffect)((function(){_(t)}),[t]);return i.a.createElement("div",{className:p.a.status},!r&&i.a.createElement("div",null,i.a.createElement("span",{className:p.a.status__text,onDoubleClick:function(){s(!0)}}," ",t||"type text"," ")),r&&i.a.createElement("div",null,i.a.createElement("input",{autoFocus:!0,onBlur:function(){s(!1),a(f)},onChange:function(e){_(e.currentTarget.value)},value:f})))},P=a(64),E=a.n(P),v=a(219),h=a(220),I=Object(h.a)({form:"ProfileDataForm"})((function(e){var t=e.profile,a=e.error;return i.a.createElement("form",{onSubmit:e.handleSubmit},i.a.createElement("div",null,i.a.createElement("span",null,"Full name:"),i.a.createElement(v.a,{component:"input",type:"text",name:"fullName",placeholder:"full name"})),i.a.createElement("div",null,i.a.createElement("span",null,"About:"),i.a.createElement(v.a,{component:"textarea",name:"aboutMe",placeholder:"about me"})),i.a.createElement("div",null,i.a.createElement("span",null,"Looking for a job:"),i.a.createElement(v.a,{component:"input",type:"checkbox",name:"lookingForAJob"})),i.a.createElement("div",null,i.a.createElement("span",null,"Description:"),i.a.createElement(v.a,{component:"textarea",name:"lookingForAJobDescription"})),Object.keys(t.contacts).map((function(e){return i.a.createElement("div",{key:e},i.a.createElement("span",null,e),i.a.createElement(v.a,{component:"input",type:"text",name:"contacts."+e}))})),i.a.createElement("button",null,"save"),a&&i.a.createElement("span",{style:{color:"red"}},a))})),b=function(e){var t=e.profile,a=t.aboutMe,o=t.lookingForAJob,n=t.lookingForAJobDescription,r=t.contacts,s=e.setEditMode,l=e.isOwner,c=Object.keys(r).map((function(e){if(r[e])return i.a.createElement(U,{key:e,contactTitle:e,contactValue:r[e]})}));return i.a.createElement("div",null,l&&i.a.createElement("div",null,i.a.createElement("button",{onClick:function(){s(!0)}},"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c")),i.a.createElement("div",{className:u.a.ProfileInfo__UserData},i.a.createElement("span",{className:u.a.UserData__item},"\u041e\u0431\u043e \u043c\u043d\u0435:"),a||"no data"),i.a.createElement("div",{className:u.a.ProfileInfo__UserData},i.a.createElement("span",{className:u.a.UserData__item},"\u0418\u0449\u0443 \u0440\u0430\u0431\u043e\u0442\u0443:"),o?"\u0414\u0430":"\u041d\u0435\u0442"),i.a.createElement("div",{className:u.a.ProfileInfo__UserData},i.a.createElement("span",{className:u.a.UserData__item},"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435:"),n||"\u041d\u0435\u0442 \u0434\u0430\u043d\u043d\u044b\u0445"),c.length>0&&i.a.createElement("div",{className:u.a.ProfileInfo__UserData},i.a.createElement("span",{className:u.a.UserData__item},"\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u044b:"),c))},U=function(e){var t=e.contactTitle,a=e.contactValue;return i.a.createElement("div",null,i.a.createElement("span",null,t)," : ",i.a.createElement("span",null,a||"\u041d\u0435\u0442 \u0434\u0430\u043d\u043d\u044b\u0445"))},N=function(e){var t=Object(l.useState)(!1),a=Object(c.a)(t,2),o=a[0],n=a[1];if(!e.profile)return i.a.createElement(f.a,null);var r=e.isOwner,s=e.profile,m=e.status,_=e.profile.photos.large,p=e.savePhoto,P=e.UpdateUserStatus,v=e.updateProfile;return i.a.createElement("div",{className:u.a.ProfileInfo},i.a.createElement("div",{className:u.a.ProfileInfo__avatar},i.a.createElement("img",{src:_||E.a,alt:"userPhoto"}),r&&i.a.createElement("div",null,i.a.createElement("input",{type:"file",accept:".jpg, .jpeg, .png",onChange:function(e){e.target.files.length&&p(e.target.files[0])},name:"file",id:"file",className:u.a.ProfileInfo__loadPhoto}),i.a.createElement("label",{htmlFor:"file"},"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u0444\u043e\u0442\u043e"))),i.a.createElement("div",{className:u.a.ProfileInfo__UserAbout},i.a.createElement("div",{className:u.a.ProfileInfo__UserName},s.fullName),i.a.createElement("div",{className:u.a.ProfileInfo__UserData},i.a.createElement(d,{status:m,UpdateUserStatus:P})),!o&&i.a.createElement(b,{profile:s,UpdateUserStatus:P,setEditMode:n,isOwner:r}),o&&i.a.createElement(I,{initialValues:s,profile:s,setEditMode:n,onSubmit:function(e){v(e).then((function(){n(!1)}))}})))},k=a(172),j=a(487),O=a.n(j),g=a(488),S=a.n(g),x=function(e){return i.a.createElement("div",{className:S.a.PostItem},i.a.createElement("img",{src:E.a}),i.a.createElement("div",{className:S.a.PostItem__data},i.a.createElement("div",{className:S.a.PostItem__text},e.message),i.a.createElement("div",{className:S.a.PostItem__likeContainer},"like",i.a.createElement("span",{className:S.a.PostItem__like},e.like))))},D=(a(122),a(84)),y=a(489),C=a.n(y),A=Object(h.a)({form:"profileAddNewPostForm"})((function(e){return i.a.createElement("form",{className:C.a.formControl,onSubmit:e.handleSubmit},i.a.createElement(v.a,{className:C.a.formControl__text,component:D.b,name:"newPostText",placeholder:"Enter your post"}),i.a.createElement("button",{className:C.a.formControl__btn},"Add post"))})),F=i.a.memo((function(e){var t=e.posts.map((function(e){return i.a.createElement(x,{message:e.message,key:e.id,like:e.likesCount})}));return i.a.createElement("div",null,i.a.createElement(A,{onSubmit:function(t){e.addPostCreator(t)}}),i.a.createElement("div",{className:O.a.myPosts},t.reverse()))})),w=a(11),M=Object(w.b)((function(e){return{posts:e.profilePage.posts}}),{addPostCreator:k.f})(F),J=function(e){var t=e.profile,a=e.status,o=e.isOwner,n=e.UpdateUserStatus,r=e.savePhoto,s=e.updateProfile;return i.a.createElement("div",null,i.a.createElement(N,{profile:t,status:a,UpdateUserStatus:n,isOwner:o,savePhoto:r,updateProfile:s}),i.a.createElement(M,null))},T=a(35),V=a(218),L=a(12),z=function(e){Object(s.a)(a,e);var t=Object(r.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(n.a)(a,[{key:"refreshProfile",value:function(){var e=this.props.match.params.userId;e||(e=this.props.authorizedUserId),this.props.UserProfile(e),this.props.UserStatus(e)}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(e,t,a){this.props.match.params.userId!==e.match.params.userId&&this.refreshProfile()}},{key:"render",value:function(){return i.a.createElement(J,Object.assign({},this.props,{profile:this.props.profile,status:this.props.status,UpdateUserStatus:this.props.UpdateUserStatus,isOwner:!this.props.match.params.userId,savePhoto:this.props.SavePhoto,updateProfile:this.props.UpdateProfile}))}}]),a}(i.a.Component);t.default=Object(L.d)(Object(w.b)((function(e){return{profile:e.profilePage.profile,status:e.profilePage.status,authorizedUserId:e.auth.id,isAuth:e.auth.isAuth}}),{UserProfile:k.d,UserStatus:k.e,UpdateUserStatus:k.c,SavePhoto:k.a,UpdateProfile:k.b}),T.h,V.a)(z)}}]);
//# sourceMappingURL=3.2a46433c.chunk.js.map